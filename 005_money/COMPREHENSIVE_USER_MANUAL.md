# 📚 Bithumb Elite Trading Bot - 종합 사용자 매뉴얼 (v2.0)

**버전**: 2.0 (Elite Strategy Update)
**최종 수정**: 2025년 10월 1일

---

## 🎯 목차
1. [**프로젝트 개요**](#1-프로젝트-개요)
2. [**설치 및 실행**](#2-설치-및-실행)
   - [요구사항](#21-요구사항)
   - [API 키 설정](#22-api-키-설정)
   - [실행 방법](#23-실행-방법)
3. [**GUI 완전 정복**](#3-gui-완전-정복)
   - [메인 화면 구성](#31-메인-화면-구성)
   - [거래 현황 탭 상세 분석](#32-거래-현황-탭-상세-분석)
   - [기타 탭 기능](#33-기타-탭-기능)
4. [**매매 전략 상세 분석**](#4-매매-전략-상세-분석)
   - [핵심 원리: 가중치 기반 신호 시스템](#41-핵심-원리-가중치-기반-신호-시스템)
   - [GUI 지표별 신호 해설](#42-gui-지표별-신호-해설)
   - [최종 매매 결정 과정](#43-최종-매매-결정-과정)
5. [**문제 해결 (FAQ)**](#5-문제-해결-faq)

---

## 1. 프로젝트 개요

이 프로젝트는 빗썸(Bithumb) 거래소 API를 활용한 Python 기반의 암호화폐 자동매매 봇입니다. 기존의 간단한 전략에서 벗어나, **8개의 기술적 지표**를 종합적으로 분석하고, **시장 국면을 감지**하여 동적으로 가중치를 조절하는 **엘리트(Elite) 전략**을 탑재했습니다.

사용자는 강력하고 직관적인 **GUI**를 통해 실시간으로 봇의 상태를 모니터링하고, 다양한 전략 설정을 즉시 변경하며 거래를 제어할 수 있습니다.

### 주요 특징
- **엘리트 매매 전략**: 8개의 기술적 지표(MA, RSI, MACD, BB, Stochastic, ATR, ADX, Volume)를 활용한 정교한 매매 결정
- **시장 국면 분석**: 추세장, 횡보장을 감지하여 자동으로 전략 가중치 조절
- **리스크 관리**: ATR 기반의 동적 손절/익절가 자동 계산
- **직관적인 GUI**: 실시간 차트, 신호 분석, 거래 내역 등 모든 정보를 시각적으로 제공
- **모의 거래 모드**: 실제 자금 손실 없이 안전하게 전략을 테스트

---

## 2. 설치 및 실행

### 2.1. 요구사항
- Python 3.7 이상
- `git`

### 2.2. API 키 설정
실제 거래를 위해서는 빗썸 API 키가 필요합니다.
1. **[빗썸 API 관리](https://www.bithumb.com/mypage/api)** 페이지에서 API 키 생성
2. **권한 설정**: `자산 조회`, `거래` 권한만 체크합니다. **`출금` 권한은 절대 활성화하지 마세요.**
3. `.env.example` 파일을 `.env` 파일로 복사합니다.
   ```bash
   cp .env.example .env
   ```
4. `.env` 파일을 열어 발급받은 `Connect Key`와 `Secret Key`를 입력합니다.
   ```
   BITHUMB_CONNECT_KEY=your_actual_connect_key
   BITHUMB_SECRET_KEY=your_actual_secret_key
   ```
   > 🔒 `.env` 파일은 `.gitignore`에 등록되어 있어 Git에 커밋되지 않으므로 안전합니다.

### 2.3. 실행 방법

#### GUI 모드 (권장)
터미널에서 다음 명령어를 실행하면 가상환경 설정부터 GUI 실행까지 자동으로 처리됩니다.
```bash
./run_gui.sh
```

#### CLI (명령줄) 모드
GUI 없이 백그라운드에서 봇을 실행하고 싶을 때 사용합니다.
```bash
./run.sh
```

---

## 3. GUI 완전 정복

GUI는 봇의 모든 상태를 한눈에 파악하고 실시간으로 제어할 수 있는 강력한 도구입니다.

### 3.1. 메인 화면 구성
![GUI Layout](https://user-images.githubusercontent.com/12345/your_image_link.png)  <!-- 이미지 링크는 나중에 채워넣어야 함 -->

- **① 봇 제어 패널**: 봇을 시작하고 중지하며, 현재 운용 상태(실행/정지, 모의/실제 거래)를 표시합니다.
- **② 메인 탭**: `거래 현황`, `실시간 차트`, `신호 히스토리`, `거래 내역` 등 주요 기능을 탭으로 분리하여 제공합니다.

### 3.2. 거래 현황 탭 상세 분석

가장 핵심적인 탭으로, 봇의 모든 상태와 전략 설정을 담고 있습니다. 왼쪽 정보 패널과 오른쪽 로그 패널로 나뉩니다.

#### 왼쪽 패널 (스크롤 가능)

**[1] 📊 거래 상태**
- **거래 코인**: 현재 봇이 거래 중인 암호화폐 (예: BTC)
- **현재 가격**: 5초마다 갱신되는 실시간 시세
- **평균 매수가**: 현재 보유 중인 코인의 평균 매입 단가 (수익률 계산의 기준)
- **보유 수량**: 현재 보유량
- **대기 주문**: 미체결된 주문 수 (보안상 비활성화)

**[2] ⚙️ 엘리트 전략 설정**
- **🎯 전략 프리셋**:
  - `Balanced Elite`: 균형잡힌 올라운드 전략 (기본값)
  - `Trend Following`: 추세장에서 수익을 극대화하는 전략 (ADX > 25 권장)
  - `Mean Reversion`: 횡보장에서 짧은 매매를 반복하는 전략 (ADX < 20 권장)
  - `MACD + RSI Filter`: 추세 신호에 모멘텀 필터를 더한 안정적인 전략
  - `Custom`: 사용자 정의 가중치 사용 (고급 사용자용)
- **📊 엘리트 기술 지표 (8개)**:
  - **체크박스**: 각 지표를 매매 신호 계산에 포함할지 여부를 결정합니다. **최소 2개 이상** 선택해야 합니다. 체크를 해제하면 해당 지표는 최종 신호 계산에서 제외됩니다.
  - **LED**: 각 지표의 실시간 신호 상태를 표시합니다.
    - 🔴 **빨간색**: 매수 신호 발생
    - 🔵 **파란색**: 매도 신호 발생
    - ⚪ **회색**: 중립 신호 (매매 판단에 영향을 주지 않음)
  - **값**: 각 지표의 현재 계산된 값을 표시하여 상세 분석을 돕습니다. (자세한 설명은 [4.2. GUI 지표별 신호 해설](#42-gui-지표별-신호-해설) 참고)
- **기타 설정**:
  - **거래 코인/캔들 간격/체크 간격/거래 금액**: 봇의 기본 운영 방식을 설정합니다. 변경 후 `📝 설정 적용` 버튼을 눌러야 반영됩니다.

**[3] 🔵 시장 국면 분석**
- **시장 국면**: ADX 지표를 기반으로 현재 시장이 **추세장**인지, **횡보장**인지, 또는 **전환기**인지를 판단합니다.
- **변동성**: ATR 지표를 기반으로 현재 시장의 변동성이 `LOW`, `NORMAL`, `HIGH` 중 어디에 속하는지 알려줍니다. 변동성이 높을 때는 거래에 주의해야 합니다.
- **추세 강도**: ADX 값을 시각화하여 현재 추세의 강도를 0.0 ~ 1.0 사이로 표시합니다.
- **권장 전략**: 분석된 시장 국면에 가장 적합한 전략(예: `TREND_FOLLOW`, `MEAN_REVERSION`)을 추천합니다.

**[4] 🎯 종합 신호**
- **신호**: 모든 지표의 신호를 가중치에 따라 종합하여 `BUY`, `SELL`, `HOLD` 중 최종 결정을 표시합니다.
- **신호 강도**: 최종 신호의 방향성과 강도를 -1.0(강한 매도) ~ +1.0(강한 매수) 사이의 값과 바로 표현합니다.
- **신뢰도**: 종합된 신호가 얼마나 일관성 있는지 0.0 ~ 1.0 사이의 값과 바로 표현합니다. 일반적으로 신뢰도가 0.6 이상일 때 거래를 실행합니다.

**[5] ⚠️ ATR 기반 리스크 관리**
- 현재 가격을 기준으로, 시장 변동성(ATR)을 고려한 동적 손절가와 익절가를 자동으로 계산하여 제시합니다.
- **손절가**: 이 가격에 도달하면 손실을 제한하기 위해 매도합니다.
- **익절1/익절2**: 분할 매도를 위한 1차, 2차 목표 가격입니다.
- **R:R 비율**: 손절까지의 위험 대비 익절까지의 보상 비율입니다. (예: 1:2.0은 손실 1을 감수하고 수익 2를 기대한다는 의미)

**[6] 💰 수익 현황**
- 오늘 및 총 수익, 거래 횟수, 성공률 등 성과를 요약하여 보여줍니다.

#### 오른쪽 패널
- **📝 실시간 로그**: 봇의 모든 활동(인증, 분석, 신호, 거래, 오류 등)이 실시간으로 기록됩니다. 문제가 발생했을 때 가장 먼저 확인해야 할 곳입니다.

### 3.3. 기타 탭 기능
- **📊 실시간 차트**: 현재 선택된 코인의 실시간 가격, 이동평균선, 볼린저 밴드 등을 시각적으로 보여줍니다.
- **📋 신호 히스토리**: 과거에 발생했던 매수/매도 신호와 당시의 지표 값들을 기록하여 전략을 검토하는 데 도움을 줍니다.
- **거래 내역**: 모든 실제/모의 거래 내역을 테이블 형태로 보여주며, 새로고침 및 내보내기 기능을 제공합니다.

---

## 4. 매매 전략 상세 분석

### 4.1. 핵심 원리: 가중치 기반 신호 시스템
이 봇은 단순히 'RSI < 30이면 매수'와 같은 단일 조건으로 움직이지 않습니다. 8개 지표 각각의 신호를 **-1.0(강한 매도) ~ +1.0(강한 매수)** 사이의 값으로 변환한 뒤, `config.py`에 정의된 **가중치(weights)**를 곱하여 모두 합산합니다.

> **최종 신호 강도** = (MA신호 × 0.25) + (RSI신호 × 0.20) + (MACD신호 × 0.35) + ...

이렇게 계산된 **최종 신호 강도**와 **신뢰도**가 설정된 임계값을 넘을 때만 매매를 실행하여, 잘못된 신호(Whipsaw)에 의한 잦은 거래를 방지하고 신뢰도 높은 시점에만 진입합니다.

### 4.2. GUI 지표별 신호 해설

GUI의 **엘리트 기술 지표** 패널에서 체크박스를 선택하거나 해제하면, 해당 지표가 위에서 설명한 최종 신호 계산에 포함되거나 제외됩니다.

- **이동평균선 (MA)**: 단기 이평선과 장기 이평선의 차이를 백분율로 표시. 양수(+)면 상승 추세, 음수(-)면 하락 추세입니다.
- **MACD**: MACD선과 시그널선의 차이인 '히스토그램' 값을 표시. 양수면 상승 모멘텀, 음수면 하락 모멘텀이 강함을 의미합니다. **추세 판단에 가장 중요한 지표 중 하나입니다.**
- **RSI**: 1-100 사이의 값. 30 이하면 과매도(매수 고려), 70 이상이면 과매수(매도 고려) 상태입니다.
- **Stochastic**: RSI와 유사한 모멘텀 지표. %K와 %D 두 선의 교차와 위치로 신호를 판단하며, RSI 신호를 보강하는 역할을 합니다.
- **볼린저 밴드 (BB)**: 현재 가격이 밴드의 어느 위치에 있는지 백분율로 표시. 0%는 하단, 100%는 상단을 의미합니다.
- **ATR**: 변동성의 크기를 현재 가격 대비 백분율로 표시. 이 값이 높을수록 시장이 불안정하다는 의미이며, 리스크 관리 패널의 손절/익절가 계산에 사용됩니다.
- **Volume**: 최근 평균 거래량 대비 현재 거래량의 배율. 1.0x 이상이면 거래가 활발함을 의미하며, 신호의 신뢰도를 높여줍니다.
- **ADX**: 추세의 '강도'를 0-100 사이의 값으로 표시. **방향과 무관하게** 값이 25 이상이면 강한 추세, 15 이하면 횡보장을 의미합니다. 시장 국면 분석의 핵심 지표입니다.

> **💡 체크박스 조정 결과 예상**:
> - **추세장 (ADX > 25)에서**: `MACD`, `MA` 체크박스를 활성화하면 추세를 따라가는 결정이 나올 확률이 높아집니다. 반면 `RSI`, `BB`를 비활성화하면 추세 중간의 작은 반등 신호를 무시하게 되어 더 큰 추세를 따라갈 수 있습니다.
> - **횡보장 (ADX < 20)에서**: `RSI`, `BB`, `Stochastic`을 활성화하면 박스권 내에서의 단기 매매 신호가 더 잘 포착됩니다. 반면 `MACD`, `MA`를 비활성화하면 잦은 교차로 인한 혼란스러운 신호를 줄일 수 있습니다.

### 4.3. 최종 매매 결정 과정
1.  `generate_weighted_signals` 함수가 각 지표의 신호 값(-1.0 ~ +1.0)을 계산합니다.
2.  활성화된 지표들의 신호 값에 `config.py`의 `signal_weights`를 곱하여 합산, **최종 신호 강도(overall_signal)**를 구합니다.
3.  각 신호의 절대값(강도)에 가중치를 곱하여 합산, **신뢰도(confidence)**를 구합니다.
4.  아래 조건을 모두 만족하면 매매를 실행합니다.
    - **매수**: `최종 신호 강도 ≥ 0.5` **AND** `신뢰도 ≥ 0.6`
    - **매도**: `최종 신호 강도 ≤ -0.5` **AND** `신뢰도 ≥ 0.6`
    - **관망**: 위 조건에 해당하지 않을 경우

---

## 5. 문제 해결 (FAQ)

**Q1: GUI를 실행했는데 화면이 하얗게 나오거나, 창이 바로 꺼져요.**
**A:** 의존성 패키지, 특히 `tkinter`가 제대로 설치되지 않았을 가능성이 높습니다. 터미널에서 `./run_gui.sh`를 실행하여 필요한 패키지가 모두 설치되었는지 확인하세요.

**Q2: 봇을 시작했는데 아무 거래도 하지 않아요.**
**A:** 정상적인 동작일 수 있습니다. 봇은 설정된 모든 조건이 충족되는 '결정적인 순간'에만 거래를 실행합니다.
- **확인 사항**:
  1.  GUI 로그 패널에 오류 메시지가 없는지 확인하세요.
  2.  `종합 신호` 패널의 신뢰도가 0.6 이상으로 올라가는지 관찰하세요.
  3.  `체크 간격`을 너무 길게 설정하지 않았는지 확인하세요. (테스트 시 1m 또는 5m 권장)

**Q3: `Bad Request.(Auth Data)` 오류가 발생해요.**
**A:** `.env` 파일에 설정된 API 키가 잘못되었거나, 빗썸 계정의 API 키 설정에 문제가 있는 경우입니다. API 키를 재발급받아 정확히 입력했는지 확인하세요.

**Q4: 모의 거래 시 잔고가 이상하게 표시돼요.**
**A:** 모의 거래는 실제 잔고를 가져오지 않고, 프로그램 내에서 가상으로 계산합니다. 프로그램을 재시작하면 초기화될 수 있습니다. 정확한 자산 추적은 `거래 내역` 탭과 로그 파일을 통해 확인하세요.

---
**⚠️ 면책조항**: 이 봇은 교육 및 연구 목적으로 제작되었습니다. 실제 거래 시 발생하는 모든 손실에 대한 책임은 사용자에게 있습니다. 충분한 모의 거래를 통해 전략을 검증한 후, 감당할 수 있는 소액으로 실제 거래를 시작하시기 바랍니다.
