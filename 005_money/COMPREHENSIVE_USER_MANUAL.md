# 📚 빗썸 자동매매 봇 완전 사용 설명서

## 🎯 목차
1. [봇의 작동 원리](#🤖-봇의-작동-원리)
2. [매수/매도 타이밍](#📈-매수매도-타이밍)
3. [계정 정보 및 포트폴리오 관리](#🏦-계정-정보-및-포트폴리오-관리)
4. [GUI 설정 완전 가이드](#⚙️-gui-설정-완전-가이드)
5. [실제 거래 vs 모의 거래](#💰-실제-거래-vs-모의-거래)
6. [수익률 최적화 전략](#📊-수익률-최적화-전략)
7. [문제 해결 및 FAQ](#🔧-문제-해결-및-faq)

---

## 🤖 봇의 작동 원리

### 📋 전체 흐름
```
1. 설정된 간격마다 깨어남 (10초 ~ 4시간)
2. 현재 코인 가격과 거래량 데이터 수집
3. 기술적 지표 계산 (RSI, 이동평균, 볼린저밴드)
4. 손절/익절 조건 우선 확인
5. 매수/매도 신호 분석
6. 거래 실행 또는 대기
7. 결과 로깅 및 다음 사이클 대기
```

### 🔍 기술적 지표 설명

#### 1. RSI (상대강도지수)
- **범위**: 0 ~ 100
- **매수 신호**: RSI ≤ 30 (과매도 상태)
- **매도 신호**: RSI ≥ 70 (과매수 상태)
- **설정 가능**: GUI에서 실시간 변경 가능

#### 2. 이동평균선 (MA)
- **단기 MA > 장기 MA**: 상승 추세 (매수 신호)
- **단기 MA < 장기 MA**: 하락 추세 (매도 신호)
- **골든 크로스**: 단기선이 장기선을 상향 돌파
- **데드 크로스**: 단기선이 장기선을 하향 돌파

#### 3. 볼린저 밴드
- **하단 밴드 근처**: 과매도 (매수 신호)
- **상단 밴드 근처**: 과매수 (매도 신호)
- **밴드 폭**: 변동성 측정

#### 4. 거래량 분석
- **평균 거래량 대비 높은 거래량**: 신호 강화
- **거래량 배수**: 10배 이상 시 강한 신호

---

## 📈 매수/매도 타이밍

### 🔵 매수가 일어나는 조건 (모두 충족 시)

#### 필수 조건
1. **RSI ≤ 설정값 (기본: 30)** - 과매도 상태
2. **단기 이동평균 > 장기 이동평균** - 상승 추세
3. **볼린저 밴드 하단 근처** - 반등 가능성
4. **거래량 증가** - 관심도 상승

#### 신호 강도 계산
```python
총 신호 점수 = MA 신호 + RSI 신호 + 볼린저밴드 신호 + 거래량 신호
매수 실행 = 총 신호 ≥ 2점 AND 신뢰도 ≥ 60%
```

#### 📊 매수 예시 시나리오
```
상황: BTC 가격이 90,000,000원에서 85,000,000원으로 하락
- RSI: 28 (30 이하) → +1점
- 단기MA > 장기MA → +1점
- 볼린저밴드 하단 근처 → +1점
- 거래량 평균의 1.5배 → +1점
총점: 4점, 신뢰도: 85%
→ ✅ 매수 실행!
```

### 🔴 매도가 일어나는 조건

#### 우선순위 1: 손절/익절 (자동 실행)
```
손절: 현재가 < 평균매수가 × (1 - 손절비율/100)
익절: 현재가 > 평균매수가 × (1 + 익절비율/100)

예시 (평균매수가 100만원, 손절 5%, 익절 3%):
- 손절: 95만원 이하 → 즉시 매도
- 익절: 103만원 이상 → 즉시 매도
```

#### 우선순위 2: 기술적 신호
1. **RSI ≥ 설정값 (기본: 70)** - 과매수 상태
2. **단기 이동평균 < 장기 이동평균** - 하락 추세
3. **볼린저 밴드 상단 근처** - 조정 가능성
4. **거래량 감소** - 관심도 하락

### ⚠️ 10초 간격에서 매수가 안 되는 이유

#### 현실적인 문제들
1. **신호 발생 빈도**: 강한 매수 신호는 실제로 드뭅니다
2. **시장 효율성**: 10초로는 의미있는 패턴 형성이 어려움
3. **노이즈 거래**: 너무 짧은 간격은 잡음에 반응할 수 있음

#### 권장 설정
```
초보자: 30분 ~ 1시간 (안정적 신호)
중급자: 5분 ~ 30분 (적당한 빈도)
고급자: 1분 ~ 5분 (활발한 거래)
테스트: 10초 ~ 30초 (학습 목적)
```

---

## 🏦 계정 정보 및 포트폴리오 관리

### 📊 실시간 계정 현황 확인

#### CLI 명령어로 계정 정보 조회
```bash
# 포트폴리오 요약 조회
python main.py --show-portfolio
./run.sh --show-portfolio

# 상세 계정 정보 조회 (모든 코인 보유 현황)
python main.py --show-account
./run.sh --show-account

# 포트폴리오 데이터 JSON 파일로 내보내기
python main.py --export-portfolio my_portfolio_20240101.json
```

#### 봇 시작 시 자동 표시
봇을 시작하면 자동으로 계정 현황이 표시됩니다:

```
🏦 === 계정 현황 ===
💰 보유 현금: 800,000원 (총 1,000,000원)
💎 코인 자산: 1,250,000원 (3개 코인)
💼 총 자산: 2,250,000원
📈 총 수익률: +12.5% (+250,000원)

🪙 주요 보유 코인:
  • BTC: 0.015000개 (750,000원) 📈 +8.5%
  • ETH: 0.125000개 (400,000원) 📈 +15.2%
  • XRP: 1000.000000개 (100,000원) 📉 -2.1%
```

### 🖥️ GUI 계정 정보 탭

새로운 **"계정 정보"** 탭에서 다음 정보를 확인할 수 있습니다:

#### 🏦 계정 요약
- **KRW 잔고**: 총 잔고, 사용가능 금액, 사용중 금액
- **포트폴리오 요약**: 총 자산, 코인 자산, 총 투자금, 손익률

#### 🪙 보유 코인 목록 (테이블 형태)
- 코인명, 보유량, 평균매수가, 현재가, 현재가치, 손익, 수익률
- 실시간 자동 업데이트 (30초마다)
- 수익/손실에 따른 색상 표시

#### 🔄 기능 버튼
- **새로고침**: 최신 계정 정보로 즉시 업데이트
- **내보내기**: 현재 포트폴리오 데이터를 JSON 파일로 저장

### 📈 포트폴리오 분석 기능

#### 평균 매수가 자동 계산
- 거래 내역을 바탕으로 각 코인의 정확한 평균 매수가 계산
- 분할 매수 시에도 정확한 평균가 유지
- 수익률 계산의 정확성 보장

#### 실시간 수익률 추적
- 각 코인별 개별 수익률
- 전체 포트폴리오 수익률
- 투자금 대비 현재 가치 비교

#### 포트폴리오 로깅
매 거래 사이클마다 포트폴리오 변화가 자동으로 로그에 기록됩니다:

```
[12:30:45] 포트폴리오 현황 - 총자산: 2,250,000원, 수익률: +12.5%
[12:30:45] 일일 거래 통계 - 총 5회 (매수: 3, 매도: 2)
```

### 💾 데이터 백업 및 내보내기

#### JSON 형태 데이터 내보내기
포트폴리오 데이터를 구조화된 JSON 형태로 저장:

```json
{
  "timestamp": "2024-01-01T12:30:45",
  "krw_balance": 800000,
  "total_portfolio_value": 2250000,
  "total_profit_loss": 250000,
  "total_profit_rate": 12.5,
  "holdings": [
    {
      "ticker": "BTC",
      "balance": 0.015,
      "average_buy_price": 45000000,
      "current_price": 48500000,
      "current_value": 727500,
      "profit_loss": 52500,
      "profit_rate": 7.8
    }
  ]
}
```

### ⚡ 성능 최적화

#### 캐싱 시스템
- 계정 정보 60초 캐싱으로 API 호출 최소화
- 중복 요청 방지 및 응답 속도 향상

#### 효율적 업데이트
- GUI: 30초마다 자동 새로고침
- CLI: 필요시에만 즉시 조회
- 백그라운드: 거래 사이클과 연동된 자동 로깅

---

## ⚙️ GUI 설정 완전 가이드

### 🎮 봇 제어 섹션
- **🚀 봇 시작**: 실제 거래 시작 (모든 설정 적용)
- **⏹ 봇 정지**: 안전한 거래 중단
- **상태 표시**:
  - ⚪ 대기 중: 봇이 꺼진 상태
  - 🟢 실행 중: 활발히 거래 중
  - 🔴 정지됨: 수동으로 정지됨

### 📊 거래 상태 섹션
- **거래 코인**: 현재 거래 중인 암호화폐
- **현재 가격**: 실시간 시세 (5초마다 업데이트)
- **평균 매수가**: 보유 코인의 평균 매입 가격
- **보유 수량**: 현재 보유 중인 코인 개수
- **대기 주문**: 아직 체결되지 않은 주문 수

### ⚙️ 실시간 설정 섹션

#### 기본 거래 설정
- **거래 코인**: BTC, ETH, XRP, ADA, DOT, LINK 등
- **체크 간격**: 10s, 30s, 1m, 5m, 10m, 30m, 1h, 2h, 4h
- **거래 금액**: 한 번에 거래할 원화 금액

#### 🎯 수익률 관련 설정 (신규!)
- **손절 비율**: 몇 % 손실 시 자동 매도 (기본: 5%)
- **익절 비율**: 몇 % 수익 시 자동 매도 (기본: 3%)

#### 📈 기술적 지표 설정 (신규!)
- **RSI 매수**: RSI 몇 이하에서 매수 신호 (기본: 30)
- **RSI 매도**: RSI 몇 이상에서 매도 신호 (기본: 70)
- **분석 기간**: 기술적 지표 계산용 캔들 수 (기본: 20)

### 설정 적용 방법
1. 원하는 값으로 변경
2. **📝 설정 적용** 버튼 클릭
3. 봇이 실행 중이면 자동 재시작
4. 로그에서 적용 결과 확인

---

## 💰 실제 거래 vs 모의 거래

### 🟡 모의 거래 모드 (기본값)
```
장점:
✅ 실제 돈 손실 없음
✅ 전략 테스트 가능
✅ 학습 및 연습 목적
✅ 설정 최적화 실험

특징:
- 실제 API 키 불필요
- 가상의 잔고로 거래 시뮬레이션
- 모든 로그와 통계 기록
- 실제 시세 데이터 사용
```

### 🔴 실제 거래 모드 ⚠️
```
필요사항:
🔑 빗썸 API 키 설정
💰 빗썸 계좌 잔고
📋 실명 인증 완료

위험사항:
❌ 실제 자금 손실 가능
❌ 시장 급변동 시 큰 손실
❌ 설정 오류 시 예상치 못한 거래
❌ API 한도 초과 시 거래 중단
```

### 🚀 실제 거래 전환 방법
1. **config.py** 파일에서 API 키 설정
2. **dry_run: false**로 변경
3. 소액으로 먼저 테스트
4. 충분한 모의 거래 경험 후 진행

---

## 📊 수익률 최적화 전략

### 🎯 초보자 권장 설정
```yaml
거래 코인: BTC (가장 안정적)
체크 간격: 1h (차분한 거래)
거래 금액: 50,000원 (소액 시작)
손절 비율: 3% (리스크 관리)
익절 비율: 2% (꾸준한 수익)
RSI 매수: 25 (보수적 매수)
RSI 매도: 75 (보수적 매도)
```

### ⚡ 적극적 거래 설정
```yaml
거래 코인: ETH, XRP (변동성 큰 코인)
체크 간격: 5m (빠른 반응)
거래 금액: 100,000원 (적당한 규모)
손절 비율: 5% (손실 허용)
익절 비율: 3% (빠른 수익 실현)
RSI 매수: 30 (일반적 기준)
RSI 매도: 70 (일반적 기준)
```

### 📈 추세 추종 전략
```yaml
특징: 큰 흐름을 따라가는 전략
체크 간격: 30m ~ 2h
손절 비율: 7% (큰 그림 중시)
익절 비율: 5% (충분한 수익 확보)
분석 기간: 50 (장기 추세)
```

### 💎 단기 스캘핑 전략
```yaml
특징: 작은 수익을 자주 실현
체크 간격: 1m ~ 5m
손절 비율: 2% (빠른 손절)
익절 비율: 1% (작은 수익)
분석 기간: 10 (빠른 반응)
```

---

## 🔧 문제 해결 및 FAQ

### ❓ 자주 묻는 질문들

#### Q1: 10초 간격으로 설정했는데 매수가 안 돼요
**A:** 이는 정상입니다! 매수는 여러 조건이 동시에 충족될 때만 실행됩니다.

**해결책:**
1. **간격을 늘려보세요** (1분 → 5분 → 30분)
2. **RSI 임계값을 완화하세요** (30 → 35)
3. **로그에서 신호 분석을 확인하세요**

#### Q2: 손절/익절이 작동하지 않아요
**A:** 손절/익절은 보유 물량이 있을 때만 작동합니다.

**확인사항:**
- 현재 보유 수량이 0보다 큰가?
- 평균 매수가가 올바르게 계산되었나?
- 설정한 손절/익절 비율이 적절한가?

#### Q3: 모의 거래에서 잔고가 부족하다고 나와요
**A:** 모의 거래는 가상의 100만원으로 시작됩니다.

**해결책:**
1. **거래 금액을 줄이세요** (50만원 → 10만원)
2. **config.py에서 초기 잔고를 늘리세요**

#### Q4: API 오류가 계속 발생해요
**A:** 빗썸 API 한도 또는 네트워크 문제일 수 있습니다.

**해결책:**
1. **체크 간격을 늘리세요** (API 호출 빈도 감소)
2. **인터넷 연결을 확인하세요**
3. **빗썸 서버 상태를 확인하세요**

### 🚨 긴급 상황 대처법

#### 거래가 멈추지 않을 때
```bash
# 1. GUI에서 "봇 정지" 버튼 클릭
# 2. 그래도 안 되면 터미널에서 Ctrl+C
# 3. 마지막 수단: 프로그램 강제 종료
```

#### 예상치 못한 거래가 실행될 때
```bash
# 1. 즉시 봇 정지
# 2. 빗썸 웹사이트에서 미체결 주문 확인
# 3. 필요 시 수동으로 주문 취소
# 4. 설정 재검토 후 재시작
```

### 📈 성능 모니터링

#### 로그 해석 방법
```
[10:30:25] 매수 신호 감지 (신뢰도: 0.75, RSI: 28.5)
→ 신뢰도 75%, RSI 28.5에서 매수 신호

[10:30:30] 손절 실행: -3.2% 손실 (기준: -5%)
→ 3.2% 손실로 손절 실행 (5% 기준)

[10:30:35] 설정 적용됨: BTC, 5m, 100000원, 손절:5%, 익절:3%
→ 새로운 설정이 성공적으로 적용됨
```

#### 수익률 분석
- **일일 수익**: 하루 동안의 실현+미실현 손익
- **총 수익**: 프로그램 시작부터의 누적 손익
- **성공률**: (성공한 거래 / 전체 거래) × 100
- **거래 횟수**: 실제 체결된 거래 건수

---

## 🎓 실전 활용 가이드

### 📅 일일 운영 루틴
```
오전:
1. GUI 실행 및 전일 수익 확인
2. 시장 뉴스 및 동향 체크
3. 필요 시 설정 조정

오후:
1. 중간 수익률 점검
2. 로그에서 거래 패턴 분석
3. 이상 거래 여부 확인

저녁:
1. 하루 거래 결과 정리
2. 다음날 전략 계획
3. 안전한 봇 종료
```

### 🎯 단계별 숙련도 향상
```
1주차: 모의 거래로 기본 조작 익히기
2주차: 다양한 설정 조합 테스트
3주차: 수익률 패턴 분석 및 최적화
4주차: 소액 실제 거래 시작 (권장)
```

### 💡 고급 팁
1. **시장 상황별 설정 변경**
   - 불안정한 시장: 손절 비율 ↓, 체크 간격 ↑
   - 안정적인 시장: 익절 비율 ↑, 체크 간격 ↓

2. **코인별 특성 활용**
   - BTC: 안정적, 긴 간격 추천
   - ETH: 중간 변동성, 중간 간격
   - 알트코인: 높은 변동성, 짧은 간격

3. **시간대별 전략**
   - 한국 시간 오전: 해외 시장 영향
   - 한국 시간 오후: 국내 거래 활발
   - 한국 시간 밤: 미국 시장 영향

---

**⚠️ 면책조항**: 이 봇은 교육 및 연구 목적으로 제작되었습니다. 실제 거래 시 발생하는 손실에 대해서는 사용자가 모든 책임을 집니다. 충분한 모의 거래 경험을 쌓은 후 소액으로 실제 거래를 시작하기를 강력히 권장합니다.

**🎉 Happy Trading! 성공적인 자동매매를 위해 항상 신중하게 접근하세요!**