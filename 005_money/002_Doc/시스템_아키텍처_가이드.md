# ë¹—ì¸ ì—˜ë¦¬íŠ¸ íŠ¸ë ˆì´ë”© ë´‡ - ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ê°€ì´ë“œ

**ë²„ì „**: 3.0 (Elite v2.0 ê¸°ë°˜)
**ìµœì¢… ìˆ˜ì •**: 2025ë…„ 10ì›” 2ì¼
**ëŒ€ìƒ ë…ì**: ê°œë°œì, ì‹œìŠ¤í…œ ê´€ë¦¬ì, ê³ ê¸‰ ì‚¬ìš©ì

---

## ëª©ì°¨

1. [ì‹œìŠ¤í…œ ê°œìš”](#1-ì‹œìŠ¤í…œ-ê°œìš”)
2. [ì „ì²´ ì•„í‚¤í…ì²˜](#2-ì „ì²´-ì•„í‚¤í…ì²˜)
3. [í•µì‹¬ ëª¨ë“ˆ ìƒì„¸ ë¶„ì„](#3-í•µì‹¬-ëª¨ë“ˆ-ìƒì„¸-ë¶„ì„)
4. [ë°ì´í„° íë¦„](#4-ë°ì´í„°-íë¦„)
5. [ì˜ì¡´ì„± ê´€ê³„](#5-ì˜ì¡´ì„±-ê´€ê³„)
6. [ì„¤ì • ê´€ë¦¬ ì‹œìŠ¤í…œ](#6-ì„¤ì •-ê´€ë¦¬-ì‹œìŠ¤í…œ)
7. [ë¡œê¹… ë° ëª¨ë‹ˆí„°ë§](#7-ë¡œê¹…-ë°-ëª¨ë‹ˆí„°ë§)
8. [ë³´ì•ˆ ê³ ë ¤ì‚¬í•­](#8-ë³´ì•ˆ-ê³ ë ¤ì‚¬í•­)

---

## 1. ì‹œìŠ¤í…œ ê°œìš”

### 1.1 í”„ë¡œì íŠ¸ êµ¬ì¡°

```
005_money/
â”œâ”€â”€ 001_python_code/        # ë©”ì¸ ì†ŒìŠ¤ ì½”ë“œ
â”‚   â”œâ”€â”€ main.py             # CLI ì§„ì…ì 
â”‚   â”œâ”€â”€ gui_app.py          # GUI ì§„ì…ì 
â”‚   â”œâ”€â”€ config.py           # ì¤‘ì•™ ì„¤ì • íŒŒì¼
â”‚   â”œâ”€â”€ config_manager.py   # ë™ì  ì„¤ì • ê´€ë¦¬ì
â”‚   â”œâ”€â”€ strategy.py         # ì—˜ë¦¬íŠ¸ íŠ¸ë ˆì´ë”© ì „ëµ ì—”ì§„
â”‚   â”œâ”€â”€ trading_bot.py      # íŠ¸ë ˆì´ë”© ë´‡ ì½”ì–´
â”‚   â”œâ”€â”€ gui_trading_bot.py  # GUI ì „ìš© ë´‡ ì–´ëŒ‘í„°
â”‚   â”œâ”€â”€ bithumb_api.py      # ë¹—ì¸ API ë˜í¼
â”‚   â”œâ”€â”€ chart_widget.py     # ì°¨íŠ¸ ìœ„ì ¯ (v3.0)
â”‚   â”œâ”€â”€ signal_history_widget.py  # ì‹ í˜¸ íˆìŠ¤í† ë¦¬ ìœ„ì ¯
â”‚   â”œâ”€â”€ logger.py           # ë‹¤ì¤‘ ì±„ë„ ë¡œê¹… ì‹œìŠ¤í…œ
â”‚   â”œâ”€â”€ portfolio_manager.py  # í¬íŠ¸í´ë¦¬ì˜¤ ê´€ë¦¬
â”‚   â””â”€â”€ run.py, run.sh, run_gui.py  # ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ 002_Doc/                # ë¬¸ì„œ í´ë”
â”œâ”€â”€ logs/                   # ë¡œê·¸ íŒŒì¼ ì €ì¥ì†Œ
â”œâ”€â”€ pybithumb/              # ì™¸ë¶€ ë¹—ì¸ ë¼ì´ë¸ŒëŸ¬ë¦¬
â””â”€â”€ trade_rule/             # íŠ¸ë ˆì´ë”© ê·œì¹™ ë¬¸ì„œ

```

### 1.2 ê¸°ìˆ  ìŠ¤íƒ

- **ì–¸ì–´**: Python 3.7+
- **GUI í”„ë ˆì„ì›Œí¬**: Tkinter (ë‚´ì¥)
- **ë°ì´í„° ì²˜ë¦¬**: Pandas, NumPy
- **ì‹œê°í™”**: Matplotlib
- **API í†µì‹ **: requests
- **ìŠ¤ì¼€ì¤„ë§**: schedule ë¼ì´ë¸ŒëŸ¬ë¦¬

---

## 2. ì „ì²´ ì•„í‚¤í…ì²˜

### 2.1 ê³„ì¸µí˜• ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ ê³„ì¸µ                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚   CLI Mode   â”‚              â”‚     GUI Mode         â”‚     â”‚
â”‚  â”‚   (main.py)  â”‚              â”‚    (gui_app.py)      â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         â–¼                                  â–¼                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ TradingBot   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  GUITradingBot       â”‚     â”‚
â”‚  â”‚ (Core Logic) â”‚              â”‚  (GUI Adapter)       â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚         â”‚                                  â”‚                 â”‚
â”‚         â”‚        íŠ¸ë ˆì´ë”© ë¡œì§ ê³„ì¸µ          â”‚                 â”‚
â”‚         â”‚                                  â”‚                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚         TradingStrategy (strategy.py)           â”‚       â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚       â”‚
â”‚  â”‚  â”‚  â€¢ 8+ ê¸°ìˆ ì  ì§€í‘œ ê³„ì‚°                  â”‚    â”‚       â”‚
â”‚  â”‚  â”‚  â€¢ ê°€ì¤‘ì¹˜ ê¸°ë°˜ ì‹ í˜¸ ìƒì„±                â”‚    â”‚       â”‚
â”‚  â”‚  â”‚  â€¢ ì‹œì¥ êµ­ë©´ ê°ì§€                       â”‚    â”‚       â”‚
â”‚  â”‚  â”‚  â€¢ ì´›ëŒ€ íŒ¨í„´ ì¸ì‹                       â”‚    â”‚       â”‚
â”‚  â”‚  â”‚  â€¢ ë‹¤ì´ë²„ì „ìŠ¤ ê°ì§€                      â”‚    â”‚       â”‚
â”‚  â”‚  â”‚  â€¢ Chandelier Exit ê³„ì‚°                â”‚    â”‚       â”‚
â”‚  â”‚  â”‚  â€¢ BB Squeeze ê°ì§€                     â”‚    â”‚       â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         â–¼                ë°ì´í„° ì•¡ì„¸ìŠ¤ ê³„ì¸µ                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚ BithumbAPI   â”‚      â”‚ ConfigManagerâ”‚                    â”‚
â”‚  â”‚ (API Wrapper)â”‚      â”‚ (Settings)   â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚         â”‚                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚  â”‚  ì™¸ë¶€ ì„œë¹„ìŠ¤ / ì €ì¥ì†Œ              â”‚                       â”‚
â”‚  â”‚  â€¢ Bithumb REST API             â”‚                       â”‚
â”‚  â”‚  â€¢ config.py (ì¤‘ì•™ ì„¤ì •)         â”‚                       â”‚
â”‚  â”‚  â€¢ logs/ (ë¡œê·¸ íŒŒì¼)             â”‚                       â”‚
â”‚  â”‚  â€¢ transaction_history.json     â”‚                       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 ì£¼ìš” ì„¤ê³„ ì›ì¹™

1. **ëª¨ë“ˆí™” (Modularity)**: ê° ê¸°ëŠ¥ì´ ë…ë¦½ì ì¸ ëª¨ë“ˆë¡œ ë¶„ë¦¬
2. **ê³„ì¸µ ë¶„ë¦¬ (Separation of Concerns)**: UI, ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§, ë°ì´í„° ì•¡ì„¸ìŠ¤ ê³„ì¸µ ëª…í™•íˆ êµ¬ë¶„
3. **ëŠìŠ¨í•œ ê²°í•© (Loose Coupling)**: ConfigManagerë¥¼ í†µí•œ ì„¤ì • ì£¼ì…ìœ¼ë¡œ ì˜ì¡´ì„± ìµœì†Œí™”
4. **ë‹¨ì¼ ì±…ì„ ì›ì¹™ (Single Responsibility)**: ê° í´ë˜ìŠ¤/í•¨ìˆ˜ëŠ” í•˜ë‚˜ì˜ ëª…í™•í•œ ì±…ì„ë§Œ ê°€ì§
5. **í™•ì¥ ê°€ëŠ¥ì„± (Extensibility)**: ìƒˆë¡œìš´ ì§€í‘œë‚˜ ì „ëµì„ ì‰½ê²Œ ì¶”ê°€í•  ìˆ˜ ìˆëŠ” êµ¬ì¡°

---

## 3. í•µì‹¬ ëª¨ë“ˆ ìƒì„¸ ë¶„ì„

### 3.1 strategy.py - ì—˜ë¦¬íŠ¸ ì „ëµ ì—”ì§„

**ì—­í• **: ì‹œì¥ ë°ì´í„°ë¥¼ ë¶„ì„í•˜ê³  ë§¤ë§¤ ì‹ í˜¸ë¥¼ ìƒì„±í•˜ëŠ” í•µì‹¬ ì—”ì§„

**ì£¼ìš” í´ë˜ìŠ¤**:
- `TradingStrategy`: ì „ëµ ê³„ì‚° ì´ê´„ í´ë˜ìŠ¤

**ì£¼ìš” í•¨ìˆ˜** (70+ functions):

#### ê¸°ë³¸ ì§€í‘œ ê³„ì‚° í•¨ìˆ˜
```python
# ì¶”ì„¸ ì§€í‘œ
calculate_moving_average(df, window)           # ì´ë™í‰ê· 
calculate_macd(df, fast=8, slow=17, signal=9)  # MACD

# ëª¨ë©˜í…€ ì§€í‘œ
calculate_rsi(df, period=14)                   # RSI
calculate_stochastic(df, k=14, d=3)            # Stochastic

# ë³€ë™ì„± ì§€í‘œ
calculate_bollinger_bands(df, window=20, std=2)  # ë³¼ë¦°ì € ë°´ë“œ
calculate_atr(df, period=14)                     # ATR
calculate_atr_percent(df, period=14)             # ATR %

# ì¶”ì„¸ ê°•ë„
calculate_adx(df, period=14)                   # ADX

# ê±°ë˜ëŸ‰
calculate_volume_ratio(df, window=20)          # ê±°ë˜ëŸ‰ ë¹„ìœ¨
```

#### ì—˜ë¦¬íŠ¸ ê¸°ëŠ¥ (v2.0 ì¶”ê°€)
```python
# ì´›ëŒ€ íŒ¨í„´ ì¸ì‹
detect_candlestick_patterns(df)
# â†’ ë°˜í™˜: pattern_type, pattern_score, confidence

# ë‹¤ì´ë²„ì „ìŠ¤ ê°ì§€
detect_rsi_divergence(df, lookback=30)
detect_macd_divergence(df, lookback=30)
# â†’ ë°˜í™˜: divergence_type ('bullish'/'bearish'), strength

# Chandelier Exit (íŠ¸ë ˆì¼ë§ ìŠ¤í†±)
calculate_chandelier_exit(df, atr_multiplier=3.0, long_position=True)
# â†’ ë°˜í™˜: stop_price, trailing_status

# BB Squeeze (ë³€ë™ì„± ì••ì¶•) ê°ì§€
detect_bb_squeeze(df, threshold=0.8, lookback=50)
# â†’ ë°˜í™˜: is_squeezing, squeeze_duration, breakout_direction
```

#### ì‹œì¥ êµ­ë©´ ê°ì§€
```python
detect_market_regime(df, adx, atr_percent)
# â†’ ë°˜í™˜ ë”•ì…”ë„ˆë¦¬:
#   - regime: 'trending' / 'ranging' / 'transitional'
#   - volatility_level: 'low' / 'normal' / 'high'
#   - recommendation: 'TREND_FOLLOW' / 'MEAN_REVERSION' / 'WAIT'
#   - trend_strength: 0.0 ~ 1.0
```

#### ì¢…í•© ë¶„ì„ í•¨ìˆ˜
```python
analyze_market_data(ticker, interval='1h')
# â†’ ë°˜í™˜: ëª¨ë“  ì§€í‘œ + êµ­ë©´ ë¶„ì„ ê²°ê³¼ë¥¼ í¬í•¨í•˜ëŠ” ê±°ëŒ€í•œ ë”•ì…”ë„ˆë¦¬
# ì£¼ìš” í‚¤:
#   - 'price_data': ê°€ê²© DataFrame (MA, RSI, MACD ë“± ê³„ì‚°ëœ ì»¬ëŸ¼ í¬í•¨)
#   - 'current_price', 'short_ma', 'long_ma', 'rsi', 'macd_*'
#   - 'atr', 'atr_percent', 'stoch_k', 'stoch_d', 'adx'
#   - 'bb_upper', 'bb_lower', 'bb_position'
#   - 'regime': ì‹œì¥ êµ­ë©´ ë”•ì…”ë„ˆë¦¬
#   - 'candlestick_pattern': íŒ¨í„´ ë”•ì…”ë„ˆë¦¬
#   - 'rsi_divergence', 'macd_divergence': ë‹¤ì´ë²„ì „ìŠ¤ ë”•ì…”ë„ˆë¦¬
#   - 'chandelier_exit', 'bb_squeeze': ì—˜ë¦¬íŠ¸ ê¸°ëŠ¥ ë”•ì…”ë„ˆë¦¬
```

#### ì‹ í˜¸ ìƒì„± í•¨ìˆ˜
```python
generate_weighted_signals(analysis, weights_override=None)
# â†’ ì…ë ¥: analyze_market_data() ê²°ê³¼
# â†’ ë°˜í™˜ ë”•ì…”ë„ˆë¦¬:
#   - 'overall_signal': -1.0 ~ +1.0 (ìµœì¢… ì‹ í˜¸ ê°•ë„)
#   - 'confidence': 0.0 ~ 1.0 (ì‹ ë¢°ë„)
#   - 'final_action': 'BUY' / 'SELL' / 'HOLD'
#   - 'reason': ê²°ì • ì´ìœ  (ë¬¸ìì—´)
#   - ê° ì§€í‘œë³„ ì‹ í˜¸: 'macd_signal', 'ma_signal', 'rsi_signal', ...
#   - ê° ì§€í‘œë³„ ê°•ë„: 'macd_strength', 'ma_strength', ...
#   - íŒ¨í„´/ë‹¤ì´ë²„ì „ìŠ¤ ë³´ë„ˆìŠ¤ ì ìˆ˜
```

**ê°€ì¤‘ì¹˜ ì‹œìŠ¤í…œ** (config.pyì—ì„œ ì„¤ì •):
```python
signal_weights = {
    'macd': 0.35,      # MACD ì‹ í˜¸ ê°€ì¤‘ì¹˜ (ê°€ì¥ ë†’ìŒ)
    'ma': 0.25,        # ì´ë™í‰ê·  ê°€ì¤‘ì¹˜
    'rsi': 0.20,       # RSI ê°€ì¤‘ì¹˜
    'bb': 0.10,        # ë³¼ë¦°ì €ë°´ë“œ ê°€ì¤‘ì¹˜
    'volume': 0.10,    # ê±°ë˜ëŸ‰ ê°€ì¤‘ì¹˜
    'pattern': 0.0     # ì´›ëŒ€ íŒ¨í„´ (ê¸°ë³¸ê°’ 0, ì¡°ì • ê°€ëŠ¥)
}
# í•©ê³„ = 1.0 (100%)
```

**ì‹ í˜¸ ê³„ì‚° ë¡œì§**:
```python
# ê° ì§€í‘œì˜ ì‹ í˜¸ ê°’ (-1.0 ~ +1.0)
weighted_sum = (
    macd_signal * 0.35 +
    ma_signal * 0.25 +
    rsi_signal * 0.20 +
    bb_signal * 0.10 +
    volume_signal * 0.10 +
    pattern_signal * 0.0  # ê¸°ë³¸ê°’
)

# ë‹¤ì´ë²„ì „ìŠ¤ ë³´ë„ˆìŠ¤ ê°€ì‚°
if rsi_divergence == 'bullish':
    weighted_sum += 0.15
if macd_divergence == 'bullish':
    weighted_sum += 0.20

# ìµœì¢… ì‹ í˜¸ í´ë¦¬í•‘
overall_signal = clip(weighted_sum, -1.0, +1.0)

# ì‹ ë¢°ë„ ê³„ì‚°
confidence = sum(abs(signal) * weight for each indicator) / sum(weights)
```

---

### 3.2 trading_bot.py - íŠ¸ë ˆì´ë”© ë´‡ ì½”ì–´

**ì—­í• **: ì „ëµ ì—”ì§„ì˜ ì‹ í˜¸ë¥¼ ë°›ì•„ ì‹¤ì œ ê±°ë˜ë¥¼ ì‹¤í–‰í•˜ê³  ë¦¬ìŠ¤í¬ë¥¼ ê´€ë¦¬

**ì£¼ìš” í´ë˜ìŠ¤**: `TradingBot`

**í•µì‹¬ ë©”ì„œë“œ**:

#### ì´ˆê¸°í™” ë° ì¸ì¦
```python
__init__()
# â†’ config ë¡œë“œ
# â†’ logger, api, strategy, portfolio_manager ì´ˆê¸°í™”

authenticate() -> bool
# â†’ ëª¨ì˜ ê±°ë˜ ëª¨ë“œ: ì¦‰ì‹œ True ë°˜í™˜
# â†’ ì‹¤ì œ ê±°ë˜ ëª¨ë“œ: API í‚¤ ê²€ì¦ (ì”ê³  ì¡°íšŒëŠ” ë¹„í™œì„±í™”ë¨)
```

#### ì”ê³  ê´€ë¦¬
```python
get_current_balance(currency='KRW') -> float
# â†’ ëª¨ì˜ ê±°ë˜: ê°€ìƒ ì”ê³  ë°˜í™˜ (KRW 100ë§Œì›, ì½”ì¸ 0.1)
# â†’ ì‹¤ì œ ê±°ë˜: API í˜¸ì¶œí•˜ì—¬ ì‹¤ì œ ì”ê³  ì¡°íšŒ

calculate_trade_amount(action, ticker, current_price) -> float
# â†’ BUY: ì‚¬ìš© ê°€ëŠ¥ KRWì˜ 99%ë¥¼ ì½”ì¸ ìˆ˜ëŸ‰ìœ¼ë¡œ ë³€í™˜
# â†’ SELL: ë³´ìœ  ì½”ì¸ì˜ 50% ë°˜í™˜ (ë¶„í•  ë§¤ë„)
```

#### ê±°ë˜ ì‹¤í–‰
```python
execute_trade(ticker, action, amount, current_price) -> bool
# â†’ ëª¨ì˜ ê±°ë˜: ë¡œê·¸ ê¸°ë¡ + ê±°ë˜ ë‚´ì—­ JSON ì €ì¥
# â†’ ì‹¤ì œ ê±°ë˜: api.place_buy_order() / place_sell_order() í˜¸ì¶œ
# â†’ TransactionHistory ì—…ë°ì´íŠ¸
# â†’ MarkdownTransactionLogger ê¸°ë¡
```

#### ë©”ì¸ íŠ¸ë ˆì´ë”© ë¡œì§
```python
run()
# 1. authenticate() í˜¸ì¶œ
# 2. ë¬´í•œ ë£¨í”„:
#    a. í˜„ì¬ ì‹œê°„ í™•ì¸ (ì•¼ê°„ ê±°ë˜ ë¹„í™œì„±í™” ì‹œ ìŠ¤í‚µ)
#    b. analyze_and_trade() í˜¸ì¶œ
#    c. check_interval_minutesë§Œí¼ ëŒ€ê¸°
#    d. ê¸´ê¸‰ ì •ì§€ í”Œë˜ê·¸ í™•ì¸

analyze_and_trade(ticker) -> Dict
# 1. strategy.analyze_market_data() í˜¸ì¶œ
# 2. strategy.generate_weighted_signals() í˜¸ì¶œ
# 3. ì‹ í˜¸ ì„ê³„ê°’ í™•ì¸:
#    - BUY: overall_signal >= 0.5 AND confidence >= 0.6
#    - SELL: overall_signal <= -0.5 AND confidence >= 0.6
# 4. ë¦¬ìŠ¤í¬ ê´€ë¦¬ ê²€ì¦:
#    - ì¼ì¼ ê±°ë˜ íšŸìˆ˜ í™•ì¸ (max_daily_trades)
#    - ì¼ì¼ ì†ì‹¤ë¥  í™•ì¸ (max_daily_loss_pct)
#    - ì—°ì† ì†ì‹¤ íšŸìˆ˜ í™•ì¸ (max_consecutive_losses)
# 5. execute_trade() í˜¸ì¶œ
# 6. ê²°ê³¼ ë¡œê¹… ë° ë°˜í™˜
```

**ë¦¬ìŠ¤í¬ ê´€ë¦¬ ê·œì¹™**:
- ì¼ì¼ ìµœëŒ€ ê±°ë˜ íšŸìˆ˜: 5íšŒ (ê¸°ë³¸ê°’, ì¡°ì • ê°€ëŠ¥)
- ì¼ì¼ ìµœëŒ€ ì†ì‹¤ë¥ : 3.0% (ì´ˆê³¼ ì‹œ ê±°ë˜ ì¤‘ë‹¨)
- ì—°ì† ìµœëŒ€ ì†ì‹¤ íšŸìˆ˜: 3íšŒ (ì´ˆê³¼ ì‹œ ê±°ë˜ ì¤‘ë‹¨)
- ATR ê¸°ë°˜ ë™ì  ì†ì ˆ: `entry_price - (ATR Ã— 2.0)`

---

### 3.3 gui_app.py - GUI ì• í”Œë¦¬ì¼€ì´ì…˜

**ì—­í• **: ì‚¬ìš©ì ì¹œí™”ì ì¸ ê·¸ë˜í”½ ì¸í„°í˜ì´ìŠ¤ ì œê³µ

**ì£¼ìš” í´ë˜ìŠ¤**: `TradingBotGUI`

**GUI êµ¬ì¡°** (4-Column Layout + 4 Tabs):

#### ë©”ì¸ ì°½ (1400x850)
- **ìƒë‹¨ ì œì–´ íŒ¨ë„**: ë´‡ ì‹œì‘/ì •ì§€ ë²„íŠ¼, ìƒíƒœ í‘œì‹œ, ëª¨ë“œ í‘œì‹œ
- **íƒ­ ì˜ì—­**:
  1. **ê±°ë˜ í˜„í™© íƒ­**: 4-ì»¬ëŸ¼ ë ˆì´ì•„ì›ƒ
  2. **ì‹¤ì‹œê°„ ì°¨íŠ¸ íƒ­**: ì°¨íŠ¸ ìœ„ì ¯
  3. **ì‹ í˜¸ íˆìŠ¤í† ë¦¬ íƒ­**: ê³¼ê±° ì‹ í˜¸ ê¸°ë¡
  4. **ê±°ë˜ ë‚´ì—­ íƒ­**: ê±°ë˜ ë¡œê·¸ í…Œì´ë¸”

#### ê±°ë˜ í˜„í™© íƒ­ - 4-ì»¬ëŸ¼ êµ¬ì„±

**Column 1 (ìŠ¤í¬ë¡¤ ê°€ëŠ¥)**:
- ğŸ“Š ê±°ë˜ ìš”ì•½ íŒ¨ë„
- ğŸ“Š ê±°ë˜ ìƒíƒœ íŒ¨ë„ (ì½”ì¸, ê°€ê²©, í‰ê·  ë§¤ìˆ˜ê°€, ë³´ìœ  ìˆ˜ëŸ‰, ëŒ€ê¸° ì£¼ë¬¸)
- ğŸ•¯ï¸ ìº”ë“¤ìŠ¤í‹± íŒ¨í„´ íŒ¨ë„ (íŒ¨í„´ íƒ€ì…, ì ìˆ˜, ì‹ ë¢°ë„)
- ğŸ“ˆ ë‹¤ì´ë²„ì „ìŠ¤ íŒ¨ë„ (RSI/MACD ë‹¤ì´ë²„ì „ìŠ¤ ê°ì§€ ê²°ê³¼)
- ğŸ”µ ì‹œì¥ êµ­ë©´ íŒ¨ë„ (Trending/Ranging/Transitional, ë³€ë™ì„±, ADX)

**Column 2 (ìŠ¤í¬ë¡¤ ê°€ëŠ¥)**:
- âš™ï¸ ì—˜ë¦¬íŠ¸ ì „ëµ ì„¤ì • íŒ¨ë„
  - ì „ëµ í”„ë¦¬ì…‹ ì„ íƒ (Balanced/Trend Following/Mean Reversion/Custom)
  - 8ê°œ ì§€í‘œ ì²´í¬ë°•ìŠ¤ + ê°’ í‘œì‹œ (MA, RSI, BB, MACD, Volume, Stochastic, ATR, ADX)
  - ê¸°ë³¸ ì„¤ì • (ê±°ë˜ ì½”ì¸, ìº”ë“¤ ê°„ê²©, ì²´í¬ ê°„ê²©, ê±°ë˜ ê¸ˆì•¡)
  - ì„¤ì • ì ìš© ë²„íŠ¼
- ğŸ¯ ì¢…í•© ì‹ í˜¸ íŒ¨ë„ (ì‹ í˜¸ ê°•ë„, ì‹ ë¢°ë„, ìµœì¢… ì•¡ì…˜, ì´ìœ )

**Column 3 (ìŠ¤í¬ë¡¤ ê°€ëŠ¥)**:
- âš–ï¸ ì‹ í˜¸ ê°€ì¤‘ì¹˜ ì¡°ì • íŒ¨ë„
  - ê° ì§€í‘œë³„ ê°€ì¤‘ì¹˜ ìŠ¬ë¼ì´ë” (MACD, MA, RSI, BB, Volume, Pattern)
  - ì‹¤ì‹œê°„ ê°€ì¤‘ì¹˜ í•©ê³„ í‘œì‹œ
  - í”„ë¦¬ì…‹ ì €ì¥/ë¡œë“œ ê¸°ëŠ¥

**Column 4 (ìŠ¤í¬ë¡¤ ê°€ëŠ¥)**:
- âš ï¸ ATR ê¸°ë°˜ ë¦¬ìŠ¤í¬ ê´€ë¦¬ íŒ¨ë„
  - í˜„ì¬ ATR ê°’ ë° ë¹„ìœ¨
  - ì†ì ˆê°€ ê³„ì‚° (entry - ATR Ã— multiplier)
  - ìµì ˆê°€ 1, 2 ê³„ì‚°
  - R:R ë¹„ìœ¨ í‘œì‹œ
- ğŸ’° ìˆ˜ìµ í˜„í™© íŒ¨ë„
  - ì˜¤ëŠ˜ ìˆ˜ìµ, ì´ ìˆ˜ìµ
  - ì˜¤ëŠ˜ ê±°ë˜ íšŸìˆ˜, ì´ ê±°ë˜ íšŸìˆ˜
  - ìŠ¹ë¥ , í‰ê·  ìˆ˜ìµë¥ 

**í•˜ë‹¨ (ê³ ì •)**:
- ğŸ“ ì‹¤ì‹œê°„ ë¡œê·¸ íŒ¨ë„ (ScrolledText, ìµœëŒ€ 1000ì¤„)

#### ì£¼ìš” ì—…ë°ì´íŠ¸ í•¨ìˆ˜
```python
update_gui()
# â†’ 100msë§ˆë‹¤ í˜¸ì¶œ (self.root.after(100))
# â†’ update_price() í˜¸ì¶œ (5ì´ˆë§ˆë‹¤)
# â†’ update_log_display() í˜¸ì¶œ (ë¡œê·¸ íì—ì„œ ìƒˆ ë©”ì‹œì§€ ê°€ì ¸ì˜¤ê¸°)
# â†’ ë´‡ ìƒíƒœ ì—…ë°ì´íŠ¸ (is_running, last_action ë“±)

update_price()
# â†’ get_ticker() API í˜¸ì¶œí•˜ì—¬ í˜„ì¬ ê°€ê²© ê°±ì‹ 
# â†’ 5ì´ˆë§ˆë‹¤ ì‹¤í–‰

update_analysis_display(analysis, signals)
# â†’ ì „ëµ ë¶„ì„ ê²°ê³¼ë¥¼ GUIì— ë°˜ì˜
# â†’ ê° ì§€í‘œ LED ìƒíƒœ ì—…ë°ì´íŠ¸ (ë¹¨ê°•/íŒŒë‘/íšŒìƒ‰)
# â†’ ì‹ í˜¸ ê°•ë„ í”„ë¡œê·¸ë ˆìŠ¤ ë°” ì—…ë°ì´íŠ¸
# â†’ íŒ¨í„´, ë‹¤ì´ë²„ì „ìŠ¤, ì‹œì¥ êµ­ë©´ ì •ë³´ í‘œì‹œ
```

#### ë´‡ ì œì–´ í•¨ìˆ˜
```python
start_bot()
# â†’ GUITradingBot ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
# â†’ ë³„ë„ ìŠ¤ë ˆë“œì—ì„œ bot.run() ì‹¤í–‰
# â†’ ì‹œì‘ ë²„íŠ¼ ë¹„í™œì„±í™”, ì •ì§€ ë²„íŠ¼ í™œì„±í™”
# â†’ is_running = True

stop_bot()
# â†’ bot.stop() í˜¸ì¶œ (ê¸´ê¸‰ ì •ì§€ í”Œë˜ê·¸ ì„¤ì •)
# â†’ ìŠ¤ë ˆë“œ ì¢…ë£Œ ëŒ€ê¸°
# â†’ ì‹œì‘ ë²„íŠ¼ í™œì„±í™”, ì •ì§€ ë²„íŠ¼ ë¹„í™œì„±í™”
# â†’ is_running = False
```

---

### 3.4 chart_widget.py - ì‹¤ì‹œê°„ ì°¨íŠ¸ ìœ„ì ¯ (v3.0)

**ì—­í• **: ê°€ê²© ì°¨íŠ¸ì™€ ê¸°ìˆ ì  ì§€í‘œë¥¼ ì‹œê°í™”

**ì£¼ìš” í´ë˜ìŠ¤**: `ChartWidget`

**êµ¬ì¡°**:
- **ìƒë‹¨ ì œì–´ íŒ¨ë„**: ìƒˆë¡œê³ ì¹¨ ë²„íŠ¼ + ì§€í‘œ ì²´í¬ë°•ìŠ¤ (13ê°œ)
- **ì°¨íŠ¸ ì˜ì—­**: Matplotlib ê¸°ë°˜ ë‹¤ì´ë‚˜ë¯¹ ì„œë¸Œí”Œë¡¯

**ì§€ì› ì§€í‘œ í‘œì‹œ** (ì²´í¬ë°•ìŠ¤ on/off):
1. **MA** (Moving Average): ë©”ì¸ ì°¨íŠ¸ ì˜¤ë²„ë ˆì´ (ì£¼í™©ìƒ‰/ë³´ë¼ìƒ‰ ì„ )
2. **RSI**: ë³„ë„ ì„œë¸Œí”Œë¡¯, 30/70 ì„ , ê³¼ë§¤ìˆ˜/ê³¼ë§¤ë„ ì˜ì—­ ìƒ‰ì¹ 
3. **BB** (Bollinger Bands): ë©”ì¸ ì°¨íŠ¸ ì˜¤ë²„ë ˆì´ (íšŒìƒ‰ ì ì„  + íˆ¬ëª… ì˜ì—­)
4. **MACD**: ë³„ë„ ì„œë¸Œí”Œë¡¯, MACD/Signal ì„  + íˆìŠ¤í† ê·¸ë¨
5. **Volume**: ë³„ë„ ì„œë¸Œí”Œë¡¯, ìƒìŠ¹/í•˜ë½ ìƒ‰ìƒ êµ¬ë¶„ ë°” ì°¨íŠ¸
6. **Stochastic**: ì •ë³´ ë°•ìŠ¤ì— K/D ê°’ í‘œì‹œ
7. **ATR**: ì •ë³´ ë°•ìŠ¤ì— ATR ê°’ ë° % í‘œì‹œ
8. **ADX**: ì •ë³´ ë°•ìŠ¤ì— ADX ê°’ ë° ì¶”ì„¸ ê°•ë„ í‘œì‹œ
9. **Candlestick Patterns**: ë©”ì¸ ì°¨íŠ¸ì— ë§ˆì»¤ ë° ë¼ë²¨ í‘œì‹œ
10. **RSI Divergence**: RSI ì„œë¸Œí”Œë¡¯ì— ë‹¤ì´ë²„ì „ìŠ¤ ë¼ì¸ í‘œì‹œ
11. **MACD Divergence**: MACD ì„œë¸Œí”Œë¡¯ì— ë‹¤ì´ë²„ì „ìŠ¤ ë¼ì¸ í‘œì‹œ
12. **Chandelier Stop**: ë©”ì¸ ì°¨íŠ¸ì— ìˆ˜í‰ì„  í‘œì‹œ (ìƒíƒœë³„ ìƒ‰ìƒ)
13. **BB Squeeze**: ë©”ì¸ ì°¨íŠ¸ì— ë°°ê²½ ìŒì˜ ì˜ì—­ í‘œì‹œ

**í•µì‹¬ ë©”ì„œë“œ**:
```python
load_and_prepare_data() -> bool
# â†’ strategy.analyze_market_data() í˜¸ì¶œ
# â†’ ìµœê·¼ 100ê°œ ìº”ë“¤ ë°ì´í„° ì¶”ì¶œ
# â†’ self.df, self.analysis, self.signals ì €ì¥

update_chart()
# â†’ í™œì„±í™”ëœ ì„œë¸Œí”Œë¡¯ ê°œìˆ˜ ê³„ì‚°
# â†’ GridSpecìœ¼ë¡œ ë™ì  ë ˆì´ì•„ì›ƒ ìƒì„± (height_ratios=[3, 1, 1, ...])
# â†’ plot_candlesticks() í˜¸ì¶œ
# â†’ ì²´í¬ë°•ìŠ¤ ìƒíƒœì— ë”°ë¼ ì§€í‘œ í”Œë¡¯ í•¨ìˆ˜ í˜¸ì¶œ
# â†’ tight_layout() ì ìš©
# â†’ canvas.draw() ì‹¤í–‰

on_indicator_toggle()
# â†’ ì²´í¬ë°•ìŠ¤ ìƒíƒœ ë³€ê²½ ì‹œ ìë™ í˜¸ì¶œ
# â†’ update_chart() ì¦‰ì‹œ ì‹¤í–‰ (ìƒˆë¡œê³ ì¹¨ ì—†ì´ ë°˜ì˜)
```

**ì°¨íŠ¸ v3.0ì˜ í•µì‹¬ ê°œì„ ì‚¬í•­**:
- **Pure Matplotlib êµ¬í˜„**: mplfinance ì˜ì¡´ì„± ì œê±°ë¡œ xì¶• ì••ì¶• ë¬¸ì œ í•´ê²°
- **ë™ì  ì„œë¸Œí”Œë¡¯**: í™œì„±í™”ëœ ì§€í‘œì— ë”°ë¼ ë ˆì´ì•„ì›ƒ ìë™ ì¡°ì •
- **ì‹¤ì‹œê°„ í† ê¸€**: ì²´í¬ë°•ìŠ¤ ë³€ê²½ ì¦‰ì‹œ ë°˜ì˜ (ìƒˆë¡œê³ ì¹¨ ë²„íŠ¼ ë¶ˆí•„ìš”)
- **13ê°œ ì§€í‘œ ì§€ì›**: ê¸°ë³¸ + ì—˜ë¦¬íŠ¸ ê¸°ëŠ¥ ëª¨ë‘ ì‹œê°í™”

---

### 3.5 bithumb_api.py - API ë˜í¼

**ì—­í• **: ë¹—ì¸ ê±°ë˜ì†Œ API í†µì‹  ì¶”ìƒí™”

**ì£¼ìš” í•¨ìˆ˜**:
```python
get_ticker(ticker='BTC') -> Dict
# â†’ ê³µê°œ API: í˜„ì¬ ì‹œì„¸ ì¡°íšŒ
# â†’ ë°˜í™˜: {'opening_price', 'closing_price', 'min_price', 'max_price', 'volume', ...}

get_candlestick(ticker='BTC', interval='1h') -> pd.DataFrame
# â†’ ê³µê°œ API: OHLCV ìº”ë“¤ ë°ì´í„° ì¡°íšŒ
# â†’ interval: '1m', '5m', '30m', '1h', '6h', '12h', '24h'
# â†’ ë°˜í™˜: DataFrame with columns ['time', 'open', 'high', 'low', 'close', 'volume']

place_buy_order(ticker, units) -> Dict
# â†’ ë¹„ê³µê°œ API: ì‹œì¥ê°€ ë§¤ìˆ˜ ì£¼ë¬¸
# â†’ ì¸ì¦ í•„ìš” (API í‚¤ + ì„œëª…)

place_sell_order(ticker, units) -> Dict
# â†’ ë¹„ê³µê°œ API: ì‹œì¥ê°€ ë§¤ë„ ì£¼ë¬¸

get_balance(currency='ALL') -> Dict
# â†’ ë¹„ê³µê°œ API: ì”ê³  ì¡°íšŒ
# â†’ ë°˜í™˜: {'available_krw', 'available_btc', ...}
```

**ì¸ì¦ ì‹œìŠ¤í…œ**:
- HMAC-SHA512 ê¸°ë°˜ ì„œëª… ìƒì„±
- nonce (timestamp) ì‚¬ìš©í•˜ì—¬ ì¬ì „ì†¡ ê³µê²© ë°©ì§€
- í™˜ê²½ë³€ìˆ˜ ë˜ëŠ” config.pyì—ì„œ API í‚¤ ë¡œë“œ

---

### 3.6 logger.py - ë‹¤ì¤‘ ì±„ë„ ë¡œê¹… ì‹œìŠ¤í…œ

**ì—­í• **: ë‹¤ì–‘í•œ ì´ë²¤íŠ¸ë¥¼ êµ¬ì¡°í™”í•˜ì—¬ ê¸°ë¡

**ì£¼ìš” í´ë˜ìŠ¤**:

#### TradingLogger
- **íŒŒì¼ë³„ ë¡œê·¸ ë¶„ë¥˜**:
  - `trading_{YYYYMMDD}.log`: ë©”ì¸ ë¡œê·¸ (ëª¨ë“  ì´ë²¤íŠ¸)
  - `decision_{YYYYMMDD}.log`: ì „ëµ ê²°ì • ë¡œê·¸
  - `error_{YYYYMMDD}.log`: ì˜¤ë¥˜ ë¡œê·¸
  - `transaction_{YYYYMMDD}.log`: ê±°ë˜ ì‹¤í–‰ ë¡œê·¸

- **ì£¼ìš” ë©”ì„œë“œ**:
```python
log_analysis(ticker, analysis)
# â†’ ì‹œì¥ ë¶„ì„ ê²°ê³¼ ê¸°ë¡

log_signal(ticker, signal, action, reason)
# â†’ ì‹ í˜¸ ìƒì„± ê²°ê³¼ ê¸°ë¡

log_trade_execution(ticker, action, amount, price, order_id, success)
# â†’ ê±°ë˜ ì‹¤í–‰ ê²°ê³¼ ê¸°ë¡

log_error(message, exception=None)
# â†’ ì˜¤ë¥˜ ë°œìƒ ê¸°ë¡ (ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤ í¬í•¨)
```

#### TransactionHistory
- **ê±°ë˜ ë‚´ì—­ JSON ê´€ë¦¬**:
  - íŒŒì¼: `logs/transaction_history.json`
  - êµ¬ì¡°: ë¦¬ìŠ¤íŠ¸ í˜•íƒœ, ê° ê±°ë˜ëŠ” ë”•ì…”ë„ˆë¦¬
  - ìë™ ì €ì¥/ë¡œë“œ ê¸°ëŠ¥

- **ì£¼ìš” ë©”ì„œë“œ**:
```python
add_transaction(ticker, action, amount, price, order_id, fee, success)
# â†’ ìƒˆ ê±°ë˜ ì¶”ê°€ ë° ì¦‰ì‹œ íŒŒì¼ ì €ì¥

get_transactions(ticker=None, action=None, start_date=None, end_date=None)
# â†’ ì¡°ê±´ì— ë§ëŠ” ê±°ë˜ í•„í„°ë§ ì¡°íšŒ

calculate_total_profit(ticker=None)
# â†’ ì´ ìˆ˜ìµ ê³„ì‚°

calculate_win_rate(ticker=None)
# â†’ ìŠ¹ë¥  ê³„ì‚°
```

#### MarkdownTransactionLogger
- **ë§ˆí¬ë‹¤ìš´ í˜•ì‹ ê±°ë˜ ë¡œê·¸**:
  - íŒŒì¼: `logs/trading_history.md`
  - ì‚¬ëŒì´ ì½ê¸° ì‰¬ìš´ í…Œì´ë¸” í˜•ì‹
  - ê±°ë˜ ì‹œê°í™” ë° ë¶„ì„ìš©

---

### 3.7 config_manager.py - ë™ì  ì„¤ì • ê´€ë¦¬ì

**ì—­í• **: ëŸ°íƒ€ì„ ì¤‘ ì„¤ì • ë³€ê²½ì„ ì•ˆì „í•˜ê²Œ ì²˜ë¦¬

**ì£¼ìš” í´ë˜ìŠ¤**: `ConfigManager`

**ê¸°ëŠ¥**:
```python
get_config() -> Dict
# â†’ í˜„ì¬ ì „ì²´ ì„¤ì • ë°˜í™˜ (config.py ê¸°ë°˜)

update_setting(section, key, value) -> bool
# â†’ íŠ¹ì • ì„¤ì •ê°’ ë³€ê²½
# â†’ ê²€ì¦ ìˆ˜í–‰ (íƒ€ì…, ë²”ìœ„ í™•ì¸)
# â†’ ë³€ê²½ ì‚¬í•­ ë¡œê¹…

switch_interval_preset(interval: str)
# â†’ '30m', '1h', '6h', '12h', '24h' í”„ë¦¬ì…‹ìœ¼ë¡œ ì „í™˜
# â†’ í•´ë‹¹ ê°„ê²©ì— ìµœì í™”ëœ ëª¨ë“  ì§€í‘œ íŒŒë¼ë¯¸í„° ìë™ ì¡°ì •

update_signal_weights(weights: Dict)
# â†’ ì‹ í˜¸ ê°€ì¤‘ì¹˜ ì—…ë°ì´íŠ¸
# â†’ í•©ê³„ 1.0 ê²€ì¦
# â†’ ì •ê·œí™” ìˆ˜í–‰ (í•„ìš”ì‹œ)
```

**ê²€ì¦ ê·œì¹™**:
- ê°€ê²©/ê¸ˆì•¡: 0 ì´ìƒ
- ë¹„ìœ¨: 0.0 ~ 1.0 ë˜ëŠ” 0 ~ 100
- ê¸°ê°„: ì •ìˆ˜, ìµœì†Œ 1 ì´ìƒ
- ê°€ì¤‘ì¹˜ í•©ê³„: 1.0 (í—ˆìš© ì˜¤ì°¨ Â±0.01)

---

## 4. ë°ì´í„° íë¦„

### 4.1 ë§¤ë§¤ ì‚¬ì´í´ ì „ì²´ í”Œë¡œìš°

```
[ì‹œì‘]
  â”‚
  â”œâ”€> [1. ë°ì´í„° ìˆ˜ì§‘]
  â”‚    â”‚
  â”‚    â”œâ”€> bithumb_api.get_candlestick(ticker, interval)
  â”‚    â”‚    â†’ OHLCV DataFrame ë°˜í™˜ (ìµœê·¼ 100~200 ìº”ë“¤)
  â”‚    â”‚
  â”‚    â””â”€> bithumb_api.get_ticker(ticker)
  â”‚         â†’ í˜„ì¬ ê°€ê²© ì •ë³´ ë°˜í™˜
  â”‚
  â”œâ”€> [2. ì§€í‘œ ê³„ì‚°] (strategy.py)
  â”‚    â”‚
  â”‚    â”œâ”€> calculate_moving_average(df, 20) â†’ short_ma
  â”‚    â”œâ”€> calculate_moving_average(df, 50) â†’ long_ma
  â”‚    â”œâ”€> calculate_rsi(df, 14) â†’ rsi
  â”‚    â”œâ”€> calculate_macd(df, 8, 17, 9) â†’ macd_line, signal, histogram
  â”‚    â”œâ”€> calculate_bollinger_bands(df, 20, 2) â†’ bb_upper, bb_mid, bb_lower
  â”‚    â”œâ”€> calculate_atr(df, 14) â†’ atr, atr_percent
  â”‚    â”œâ”€> calculate_stochastic(df, 14, 3) â†’ stoch_k, stoch_d
  â”‚    â”œâ”€> calculate_adx(df, 14) â†’ adx
  â”‚    â”œâ”€> calculate_volume_ratio(df, 20) â†’ volume_ratio
  â”‚    â”‚
  â”‚    â””â”€> DataFrameì— ëª¨ë“  ì§€í‘œ ì»¬ëŸ¼ ì¶”ê°€
  â”‚
  â”œâ”€> [3. ì—˜ë¦¬íŠ¸ ê¸°ëŠ¥ ê³„ì‚°] (v2.0)
  â”‚    â”‚
  â”‚    â”œâ”€> detect_candlestick_patterns(df)
  â”‚    â”‚    â†’ pattern_type, pattern_score, confidence
  â”‚    â”‚
  â”‚    â”œâ”€> detect_rsi_divergence(df, 30)
  â”‚    â”‚    â†’ divergence_type ('bullish'/'bearish'), strength
  â”‚    â”‚
  â”‚    â”œâ”€> detect_macd_divergence(df, 30)
  â”‚    â”‚    â†’ divergence_type, strength
  â”‚    â”‚
  â”‚    â”œâ”€> calculate_chandelier_exit(df, 3.0)
  â”‚    â”‚    â†’ stop_price, trailing_status
  â”‚    â”‚
  â”‚    â””â”€> detect_bb_squeeze(df, 0.8, 50)
  â”‚         â†’ is_squeezing, duration, breakout_direction
  â”‚
  â”œâ”€> [4. ì‹œì¥ êµ­ë©´ ê°ì§€]
  â”‚    â”‚
  â”‚    â””â”€> detect_market_regime(df, adx, atr_percent)
  â”‚         â†’ regime, volatility_level, recommendation, trend_strength
  â”‚
  â”œâ”€> [5. ì‹ í˜¸ ìƒì„±]
  â”‚    â”‚
  â”‚    â”œâ”€> ê° ì§€í‘œë³„ ì‹ í˜¸ ê°’ ê³„ì‚° (-1.0 ~ +1.0):
  â”‚    â”‚    â€¢ macd_signal = f(macd_line, signal_line, histogram)
  â”‚    â”‚    â€¢ ma_signal = f(short_ma, long_ma, current_price)
  â”‚    â”‚    â€¢ rsi_signal = f(rsi, 30, 70)
  â”‚    â”‚    â€¢ bb_signal = f(bb_position)
  â”‚    â”‚    â€¢ volume_signal = f(volume_ratio)
  â”‚    â”‚    â€¢ pattern_signal = pattern_score (if enabled)
  â”‚    â”‚
  â”‚    â”œâ”€> ê°€ì¤‘ì¹˜ ì ìš© ë° í•©ì‚°:
  â”‚    â”‚    overall_signal = Î£(signal_i Ã— weight_i)
  â”‚    â”‚
  â”‚    â”œâ”€> ë‹¤ì´ë²„ì „ìŠ¤ ë³´ë„ˆìŠ¤ ê°€ì‚°:
  â”‚    â”‚    â€¢ RSI bullish divergence: +0.15
  â”‚    â”‚    â€¢ MACD bullish divergence: +0.20
  â”‚    â”‚
  â”‚    â”œâ”€> ì‹ ë¢°ë„ ê³„ì‚°:
  â”‚    â”‚    confidence = Î£(|signal_i| Ã— weight_i) / Î£(weight_i)
  â”‚    â”‚
  â”‚    â””â”€> ìµœì¢… ì•¡ì…˜ ê²°ì •:
  â”‚         IF overall_signal >= 0.5 AND confidence >= 0.6 â†’ BUY
  â”‚         ELIF overall_signal <= -0.5 AND confidence >= 0.6 â†’ SELL
  â”‚         ELSE â†’ HOLD
  â”‚
  â”œâ”€> [6. ë¦¬ìŠ¤í¬ ê´€ë¦¬ ê²€ì¦]
  â”‚    â”‚
  â”‚    â”œâ”€> ì¼ì¼ ê±°ë˜ íšŸìˆ˜ í™•ì¸ (max_daily_trades)
  â”‚    â”œâ”€> ì¼ì¼ ì†ì‹¤ë¥  í™•ì¸ (max_daily_loss_pct)
  â”‚    â”œâ”€> ì—°ì† ì†ì‹¤ íšŸìˆ˜ í™•ì¸ (max_consecutive_losses)
  â”‚    â””â”€> ATR ê¸°ë°˜ ì†ì ˆê°€ ê³„ì‚° (entry - ATR Ã— multiplier)
  â”‚
  â”œâ”€> [7. ê±°ë˜ ì‹¤í–‰] (IF ëª¨ë“  ì¡°ê±´ ë§Œì¡±)
  â”‚    â”‚
  â”‚    â”œâ”€> [ëª¨ì˜ ê±°ë˜ ëª¨ë“œ]
  â”‚    â”‚    â”œâ”€> ë¡œê·¸ ê¸°ë¡ (logger.log_trade_execution)
  â”‚    â”‚    â”œâ”€> ê±°ë˜ ë‚´ì—­ ì €ì¥ (transaction_history.add_transaction)
  â”‚    â”‚    â””â”€> ë§ˆí¬ë‹¤ìš´ ë¡œê·¸ (markdown_logger.log_transaction)
  â”‚    â”‚
  â”‚    â””â”€> [ì‹¤ì œ ê±°ë˜ ëª¨ë“œ]
  â”‚         â”œâ”€> API ì¸ì¦ ê²€ì¦
  â”‚         â”œâ”€> bithumb_api.place_buy_order() / place_sell_order()
  â”‚         â”œâ”€> ì£¼ë¬¸ ê²°ê³¼ í™•ì¸ (order_id, status)
  â”‚         â”œâ”€> ê±°ë˜ ë‚´ì—­ ì €ì¥
  â”‚         â””â”€> ë¡œê·¸ ê¸°ë¡
  â”‚
  â”œâ”€> [8. ê²°ê³¼ ê¸°ë¡]
  â”‚    â”‚
  â”‚    â”œâ”€> trading_{date}.log: ì „ì²´ ê³¼ì • ë¡œê·¸
  â”‚    â”œâ”€> decision_{date}.log: ì‹ í˜¸ ìƒì„± ê²°ì • ë¡œê·¸
  â”‚    â”œâ”€> transaction_{date}.log: ê±°ë˜ ì‹¤í–‰ ë¡œê·¸
  â”‚    â”œâ”€> transaction_history.json: êµ¬ì¡°í™”ëœ ê±°ë˜ ë°ì´í„°
  â”‚    â””â”€> trading_history.md: ë§ˆí¬ë‹¤ìš´ ê±°ë˜ ë¡œê·¸
  â”‚
  â”œâ”€> [9. GUI ì—…ë°ì´íŠ¸] (GUI ëª¨ë“œì¸ ê²½ìš°)
  â”‚    â”‚
  â”‚    â”œâ”€> log_queueì— ë©”ì‹œì§€ ì¶”ê°€
  â”‚    â”œâ”€> bot_status ë”•ì…”ë„ˆë¦¬ ì—…ë°ì´íŠ¸
  â”‚    â””â”€> update_gui()ì—ì„œ 100msë§ˆë‹¤ ë°˜ì˜
  â”‚
  â””â”€> [10. ëŒ€ê¸°]
       â”‚
       â”œâ”€> check_interval_minutesë§Œí¼ ëŒ€ê¸° (ê¸°ë³¸ 15ë¶„)
       â””â”€> ê¸´ê¸‰ ì •ì§€ í”Œë˜ê·¸ í™•ì¸ í›„ [1]ë¡œ ëŒì•„ê°€ê¸°
```

### 4.2 GUI ì´ë²¤íŠ¸ ë£¨í”„

```
[GUI ì‹œì‘]
  â”‚
  â”œâ”€> [Tkinter ë©”ì¸ ë£¨í”„ ì‹œì‘]
  â”‚    â”‚
  â”‚    â””â”€> root.mainloop()
  â”‚
  â”œâ”€> [100ms íƒ€ì´ë¨¸] (self.root.after(100, self.update_gui))
  â”‚    â”‚
  â”‚    â”œâ”€> [ë¡œê·¸ ì—…ë°ì´íŠ¸]
  â”‚    â”‚    â”œâ”€> log_queueì—ì„œ ë©”ì‹œì§€ ê°€ì ¸ì˜¤ê¸° (non-blocking)
  â”‚    â”‚    â””â”€> log_text_widgetì— ì‚½ì… (ìµœëŒ€ 1000ì¤„ ìœ ì§€)
  â”‚    â”‚
  â”‚    â”œâ”€> [ìƒíƒœ ì—…ë°ì´íŠ¸]
  â”‚    â”‚    â”œâ”€> bot_status ë”•ì…”ë„ˆë¦¬ ì½ê¸°
  â”‚    â”‚    â”œâ”€> ê°€ê²©, ë³´ìœ ëŸ‰, í‰ê·  ë§¤ìˆ˜ê°€ í‘œì‹œ ê°±ì‹ 
  â”‚    â”‚    â””â”€> ì‹ í˜¸ LED ìƒíƒœ ê°±ì‹ 
  â”‚    â”‚
  â”‚    â””â”€> [5ì´ˆ íƒ€ì´ë¨¸ ì²´í¬]
  â”‚         â””â”€> IF (í˜„ì¬ì‹œê° - ë§ˆì§€ë§‰ ê°€ê²© ì—…ë°ì´íŠ¸) > 5ì´ˆ:
  â”‚              â”œâ”€> get_ticker() API í˜¸ì¶œ
  â”‚              â””â”€> current_price_var ì—…ë°ì´íŠ¸
  â”‚
  â”œâ”€> [ë´‡ ìŠ¤ë ˆë“œ ì‹¤í–‰] (start_bot() í˜¸ì¶œ ì‹œ)
  â”‚    â”‚
  â”‚    â”œâ”€> threading.Thread(target=bot.run, daemon=True).start()
  â”‚    â”‚
  â”‚    â””â”€> [ë´‡ ìŠ¤ë ˆë“œ ë‚´ë¶€]
  â”‚         â”œâ”€> ë¬´í•œ ë£¨í”„ (while not stop_flag)
  â”‚         â”œâ”€> analyze_and_trade() í˜¸ì¶œ
  â”‚         â”œâ”€> ê²°ê³¼ë¥¼ log_queueì— ì¶”ê°€
  â”‚         â””â”€> time.sleep(check_interval_minutes * 60)
  â”‚
  â””â”€> [ì‚¬ìš©ì ì´ë²¤íŠ¸ ì²˜ë¦¬]
       â”œâ”€> ë²„íŠ¼ í´ë¦­ (ì‹œì‘/ì •ì§€)
       â”œâ”€> ì²´í¬ë°•ìŠ¤ í† ê¸€ (ì§€í‘œ í™œì„±í™”/ë¹„í™œì„±í™”)
       â”œâ”€> ìŠ¬ë¼ì´ë” ì¡°ì • (ê°€ì¤‘ì¹˜ ë³€ê²½)
       â””â”€> íƒ­ ì „í™˜ (ê±°ë˜ í˜„í™© â†” ì°¨íŠ¸ â†” ì‹ í˜¸ íˆìŠ¤í† ë¦¬ â†” ê±°ë˜ ë‚´ì—­)
```

---

## 5. ì˜ì¡´ì„± ê´€ê³„

### 5.1 ëª¨ë“ˆ ì˜ì¡´ì„± ê·¸ë˜í”„

```
main.py
  â””â”€> trading_bot.py
       â”œâ”€> config.py
       â”œâ”€> logger.py
       â”œâ”€> strategy.py
       â”‚    â”œâ”€> pandas, numpy
       â”‚    â”œâ”€> bithumb_api.py
       â”‚    â””â”€> config.py
       â”œâ”€> bithumb_api.py
       â”‚    â”œâ”€> requests
       â”‚    â””â”€> config.py
       â””â”€> portfolio_manager.py
            â”œâ”€> bithumb_api.py
            â””â”€> logger.py

gui_app.py
  â”œâ”€> gui_trading_bot.py
  â”‚    â””â”€> trading_bot.py (ìƒì†)
  â”œâ”€> chart_widget.py
  â”‚    â”œâ”€> matplotlib
  â”‚    â”œâ”€> strategy.py
  â”‚    â””â”€> config.py
  â”œâ”€> signal_history_widget.py
  â”‚    â””â”€> tkinter
  â”œâ”€> config_manager.py
  â”‚    â””â”€> config.py
  â””â”€> logger.py

External Dependencies:
  â”œâ”€> pybithumb/ (ê¹ƒí—ˆë¸Œ ì„œë¸Œëª¨ë“ˆ)
  â”œâ”€> pandas (ë°ì´í„° ì²˜ë¦¬)
  â”œâ”€> numpy (ìˆ˜ì¹˜ ê³„ì‚°)
  â”œâ”€> matplotlib (ì°¨íŠ¸)
  â”œâ”€> requests (HTTP)
  â”œâ”€> schedule (ìŠ¤ì¼€ì¤„ë§)
  â””â”€> tkinter (GUI, Python ë‚´ì¥)
```

### 5.2 ìˆœí™˜ ì˜ì¡´ì„± ë°©ì§€ ì„¤ê³„

- **config.pyëŠ” ë‹¤ë¥¸ ëª¨ë“ˆì— ì˜ì¡´í•˜ì§€ ì•ŠìŒ** (ìˆœìˆ˜ ì„¤ì • ë°ì´í„°)
- **logger.pyëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì— ì˜ì¡´í•˜ì§€ ì•ŠìŒ** (ìˆœìˆ˜ ë¡œê¹… ìœ í‹¸ë¦¬í‹°)
- **bithumb_api.pyëŠ” strategyë‚˜ botì— ì˜ì¡´í•˜ì§€ ì•ŠìŒ** (ìˆœìˆ˜ API ë˜í¼)
- **strategy.pyëŠ” botì— ì˜ì¡´í•˜ì§€ ì•ŠìŒ** (ë‹¨ë°©í–¥ í˜¸ì¶œ: bot â†’ strategy)
- **GUIëŠ” CLI ë¡œì§ì— ì˜ì¡´í•˜ì§€ ì•ŠìŒ** (gui_trading_botì´ ì–´ëŒ‘í„° ì—­í• )

---

## 6. ì„¤ì • ê´€ë¦¬ ì‹œìŠ¤í…œ

### 6.1 ì„¤ì • íŒŒì¼ êµ¬ì¡° (config.py)

```python
# API ì¸ì¦ ì •ë³´ (í™˜ê²½ë³€ìˆ˜ ìš°ì„ )
BITHUMB_CONNECT_KEY = os.getenv("BITHUMB_CONNECT_KEY", "YOUR_CONNECT_KEY")
BITHUMB_SECRET_KEY = os.getenv("BITHUMB_SECRET_KEY", "YOUR_SECRET_KEY")

# ê±°ë˜ ì„¤ì •
TRADING_CONFIG = {
    'target_ticker': 'BTC',
    'trade_amount_krw': 10000,
    'min_trade_amount': 5000,
    'max_trade_amount': 100000,
    'stop_loss_percent': 5.0,
    'take_profit_percent': 10.0,
    'trading_fee_rate': 0.0025,
}

# ì „ëµ ì„¤ì • (150+ íŒŒë¼ë¯¸í„°)
STRATEGY_CONFIG = {
    'candlestick_interval': '1h',  # DEFAULT
    'short_ma_window': 20,
    'long_ma_window': 50,
    'rsi_period': 14,
    'rsi_overbought': 70,
    'rsi_oversold': 30,
    'macd_fast': 8,
    'macd_slow': 17,
    'macd_signal': 9,
    'atr_period': 14,
    'atr_stop_multiplier': 2.0,
    'chandelier_atr_multiplier': 3.0,
    'stoch_k_period': 14,
    'stoch_d_period': 3,
    'adx_period': 14,
    'bb_period': 20,
    'bb_std': 2.0,
    'volume_window': 20,

    # ì—˜ë¦¬íŠ¸ ê¸°ëŠ¥ (v2.0)
    'pattern_detection_enabled': True,
    'divergence_lookback': 30,
    'divergence_detection_enabled': True,
    'bb_squeeze_threshold': 0.8,
    'bb_squeeze_lookback': 50,

    # ì‹ í˜¸ ê°€ì¤‘ì¹˜
    'signal_weights': {
        'macd': 0.35,
        'ma': 0.25,
        'rsi': 0.20,
        'bb': 0.10,
        'volume': 0.10,
        'pattern': 0.0
    },

    # ì„ê³„ê°’
    'confidence_threshold': 0.6,
    'signal_threshold': 0.5,

    # ë¦¬ìŠ¤í¬ ê´€ë¦¬
    'max_daily_loss_pct': 3.0,
    'max_consecutive_losses': 3,
    'max_daily_trades': 5,

    # ê°„ê²©ë³„ í”„ë¦¬ì…‹ (5ê°œ: 30m, 1h, 6h, 12h, 24h)
    'interval_presets': {
        '30m': { ... },  # 30ë¶„ë´‰ ìµœì  íŒŒë¼ë¯¸í„°
        '1h': { ... },   # 1ì‹œê°„ë´‰ ìµœì  íŒŒë¼ë¯¸í„° (DEFAULT)
        '6h': { ... },
        '12h': { ... },
        '24h': { ... }
    }
}

# ìŠ¤ì¼€ì¤„ë§ ì„¤ì •
SCHEDULE_CONFIG = {
    'check_interval_minutes': 15,
    'enable_night_trading': False,
    'interval_check_periods': {
        '30m': 10,
        '1h': 15,
        '6h': 60,
        '12h': 120,
        '24h': 240
    }
}

# ë¡œê¹… ì„¤ì •
LOGGING_CONFIG = {
    'log_level': 'INFO',
    'log_dir': 'logs',
    'max_log_files': 30,
}

# ì•ˆì „ ì„¤ì •
SAFETY_CONFIG = {
    'dry_run': False,
    'test_mode': False,
    'max_daily_trades': 10,
    'emergency_stop': False,
}
```

### 6.2 ì„¤ì • ì ‘ê·¼ íŒ¨í„´

**ì •ì  ì ‘ê·¼** (í”„ë¡œê·¸ë¨ ì‹œì‘ ì‹œ):
```python
import config

interval = config.STRATEGY_CONFIG['candlestick_interval']
weights = config.STRATEGY_CONFIG['signal_weights']
dry_run = config.SAFETY_CONFIG['dry_run']
```

**ë™ì  ì ‘ê·¼** (ëŸ°íƒ€ì„ ë³€ê²½):
```python
from config_manager import ConfigManager

manager = ConfigManager()
current_config = manager.get_config()

# ì„¤ì • ë³€ê²½
manager.update_setting('strategy', 'rsi_period', 21)
manager.update_signal_weights({'macd': 0.40, 'ma': 0.30, ...})
manager.switch_interval_preset('30m')
```

---

## 7. ë¡œê¹… ë° ëª¨ë‹ˆí„°ë§

### 7.1 ë¡œê·¸ íŒŒì¼ êµ¬ì¡°

```
logs/
â”œâ”€â”€ trading_20251002.log          # ë©”ì¸ ë¡œê·¸ (ëª¨ë“  ì´ë²¤íŠ¸)
â”œâ”€â”€ decision_20251002.log         # ì „ëµ ê²°ì • ë¡œê·¸
â”œâ”€â”€ error_20251002.log            # ì˜¤ë¥˜ ë¡œê·¸
â”œâ”€â”€ transaction_20251002.log      # ê±°ë˜ ì‹¤í–‰ ë¡œê·¸
â”œâ”€â”€ transaction_history.json      # êµ¬ì¡°í™”ëœ ê±°ë˜ ë°ì´í„°
â””â”€â”€ trading_history.md            # ë§ˆí¬ë‹¤ìš´ ê±°ë˜ ë¡œê·¸
```

### 7.2 ë¡œê·¸ ë ˆë²¨ ë° í¬ë§·

**ë¡œê·¸ ë ˆë²¨**:
- `DEBUG`: ìƒì„¸ ë””ë²„ê¹… ì •ë³´ (ê°œë°œìš©)
- `INFO`: ì¼ë°˜ ì •ë³´ (ì •ìƒ ì‘ë™ í™•ì¸)
- `WARNING`: ê²½ê³  (ì£¼ì˜ í•„ìš”í•˜ì§€ë§Œ ì¹˜ëª…ì ì´ì§€ ì•ŠìŒ)
- `ERROR`: ì˜¤ë¥˜ (ê¸°ëŠ¥ ì‹¤íŒ¨, ì¡°ì¹˜ í•„ìš”)
- `CRITICAL`: ì¹˜ëª…ì  ì˜¤ë¥˜ (í”„ë¡œê·¸ë¨ ì¤‘ë‹¨)

**ë¡œê·¸ í¬ë§·**:
```
2025-10-02 14:32:15,123 | INFO | trading_bot | BTC ì‹œì¥ ë¶„ì„ ì‹œì‘ (ê°„ê²©: 1h)
2025-10-02 14:32:16,456 | INFO | strategy | ì‹ í˜¸ ìƒì„± ì™„ë£Œ: overall_signal=0.72, confidence=0.81, action=BUY
2025-10-02 14:32:17,789 | INFO | trading_bot | ë§¤ìˆ˜ ì‹¤í–‰: 0.000234 BTC @ 52,340,000 KRW
2025-10-02 14:32:18,012 | ERROR | bithumb_api | API í˜¸ì¶œ ì‹¤íŒ¨: Connection timeout
```

### 7.3 ê±°ë˜ ë‚´ì—­ JSON êµ¬ì¡°

```json
{
  "transactions": [
    {
      "timestamp": "2025-10-02T14:32:17",
      "ticker": "BTC",
      "action": "BUY",
      "amount": 0.000234,
      "price": 52340000,
      "total_value": 12247.56,
      "fee": 30.62,
      "order_id": "ORD123456789",
      "success": true,
      "signal_strength": 0.72,
      "confidence": 0.81,
      "indicators": {
        "macd": 0.85,
        "ma": 0.60,
        "rsi": 0.45,
        "bb": 0.70,
        "volume": 0.90
      }
    },
    ...
  ]
}
```

---

## 8. ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

### 8.1 API í‚¤ ê´€ë¦¬

**ê¶Œì¥ ë°©ë²•**:
1. **í™˜ê²½ë³€ìˆ˜ ì‚¬ìš©** (ìµœìš°ì„ ):
   ```bash
   export BITHUMB_CONNECT_KEY="ì‹¤ì œ_í‚¤"
   export BITHUMB_SECRET_KEY="ì‹¤ì œ_í‚¤"
   ```

2. **.env íŒŒì¼ ì‚¬ìš©** (python-dotenv):
   ```
   # .env íŒŒì¼ (ë°˜ë“œì‹œ .gitignoreì— ì¶”ê°€)
   BITHUMB_CONNECT_KEY=ì‹¤ì œ_í‚¤
   BITHUMB_SECRET_KEY=ì‹¤ì œ_í‚¤
   ```

3. **í•˜ë“œì½”ë”© ê¸ˆì§€**:
   - config.pyì— ì‹¤ì œ í‚¤ ì…ë ¥ ì ˆëŒ€ ê¸ˆì§€
   - ì‹¤ìˆ˜ë¡œ ì…ë ¥í•œ ê²½ìš° ì¦‰ì‹œ í‚¤ ì¬ë°œê¸‰
   - config.pyë¥¼ .gitignoreì— ì¶”ê°€

### 8.2 API ê¶Œí•œ ì„¤ì •

**ë¹—ì¸ API ê¶Œí•œ** (ìµœì†Œ ê¶Œí•œ ì›ì¹™):
- âœ… **ìì‚° ì¡°íšŒ**: í•„ìˆ˜
- âœ… **ê±°ë˜**: í•„ìˆ˜
- âŒ **ì¶œê¸ˆ**: ì ˆëŒ€ í™œì„±í™” ê¸ˆì§€ (ë³´ì•ˆìƒ ë§¤ìš° ìœ„í—˜)

### 8.3 ëª¨ì˜ ê±°ë˜ ëª¨ë“œ

**ê°œë°œ/í…ŒìŠ¤íŠ¸ ì‹œ í•„ìˆ˜**:
```python
# config.py
SAFETY_CONFIG = {
    'dry_run': True,  # ëª¨ì˜ ê±°ë˜ ëª¨ë“œ í™œì„±í™”
    'test_mode': False,
}
```

**ëª¨ì˜ ê±°ë˜ ëª¨ë“œ íŠ¹ì§•**:
- API í˜¸ì¶œ ì—†ì´ ë¡œì»¬ì—ì„œ ì‹œë®¬ë ˆì´ì…˜
- ê±°ë˜ ë‚´ì—­ ë¡œê·¸ëŠ” ì •ìƒ ê¸°ë¡
- ì‹¤ì œ ìê¸ˆ ì†ì‹¤ ì—†ìŒ
- ì „ëµ í…ŒìŠ¤íŠ¸ ë° ë²„ê·¸ ìˆ˜ì •ìš©

### 8.4 ê¸´ê¸‰ ì •ì§€ ë©”ì»¤ë‹ˆì¦˜

**GUI ì •ì§€ ë²„íŠ¼**:
- `stop_bot()` í˜¸ì¶œ â†’ `bot.stop()` â†’ `emergency_stop = True`
- í˜„ì¬ ë£¨í”„ ì™„ë£Œ í›„ ì¦‰ì‹œ ì¢…ë£Œ

**ì„¤ì • íŒŒì¼ ê¸´ê¸‰ ì •ì§€**:
```python
# config.py
SAFETY_CONFIG = {
    'emergency_stop': True,  # Trueë¡œ ë³€ê²½ ì‹œ ë´‡ ì¦‰ì‹œ ì¤‘ë‹¨
}
```

### 8.5 ë¦¬ìŠ¤í¬ ì œí•œ

**ë‹¤ì¤‘ ì•ˆì „ì¥ì¹˜**:
1. **ì¼ì¼ ìµœëŒ€ ê±°ë˜ íšŸìˆ˜**: 5íšŒ (ê¸°ë³¸ê°’)
2. **ì¼ì¼ ìµœëŒ€ ì†ì‹¤ë¥ **: 3.0% (ì´ˆê³¼ ì‹œ ê±°ë˜ ì¤‘ë‹¨)
3. **ì—°ì† ìµœëŒ€ ì†ì‹¤ íšŸìˆ˜**: 3íšŒ (ì´ˆê³¼ ì‹œ ê±°ë˜ ì¤‘ë‹¨)
4. **ATR ê¸°ë°˜ ë™ì  ì†ì ˆ**: ë³€ë™ì„±ì— ë”°ë¼ ìë™ ì¡°ì •
5. **ìµœì†Œ ê±°ë˜ ê¸ˆì•¡**: 5,000ì› (ê³¼ì†Œ ê±°ë˜ ë°©ì§€)

---

## ë¶€ë¡

### A. ì£¼ìš” íŒŒì¼ ì—­í•  ìš”ì•½

| íŒŒì¼ëª… | ì—­í•  | ì£¼ìš” í´ë˜ìŠ¤/í•¨ìˆ˜ | LOC |
|--------|------|-----------------|-----|
| strategy.py | ì „ëµ ì—”ì§„ | TradingStrategy, 70+ functions | 2500+ |
| trading_bot.py | ë´‡ ì½”ì–´ | TradingBot | 650 |
| gui_app.py | GUI ë©”ì¸ | TradingBotGUI | 3300 |
| gui_trading_bot.py | GUI ì–´ëŒ‘í„° | GUITradingBot | 500 |
| chart_widget.py | ì°¨íŠ¸ ìœ„ì ¯ | ChartWidget (v3.0) | 820 |
| bithumb_api.py | API ë˜í¼ | BithumbAPI | 480 |
| logger.py | ë¡œê¹… ì‹œìŠ¤í…œ | TradingLogger, TransactionHistory | 400 |
| config.py | ì¤‘ì•™ ì„¤ì • | 150+ parameters | 280 |
| config_manager.py | ë™ì  ì„¤ì • ê´€ë¦¬ | ConfigManager | 700 |

### B. ì„±ëŠ¥ ìµœì í™” í¬ì¸íŠ¸

1. **ë°ì´í„° ìºì‹±**: analyze_market_data() ê²°ê³¼ë¥¼ ì¬ì‚¬ìš©í•˜ì—¬ ì¤‘ë³µ ê³„ì‚° ë°©ì§€
2. **ë°°ì¹˜ ì§€í‘œ ê³„ì‚°**: ëª¨ë“  ì§€í‘œë¥¼ í•œ ë²ˆì— ê³„ì‚°í•˜ì—¬ DataFrame ë°˜ë³µ ìµœì†Œí™”
3. **ë¡œê·¸ í í¬ê¸° ì œí•œ**: GUI ë¡œê·¸ í ìµœëŒ€ 1000ê°œ ìœ ì§€í•˜ì—¬ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€
4. **ì°¨íŠ¸ ì—…ë°ì´íŠ¸ ìµœì í™”**: ì²´í¬ë°•ìŠ¤ ë³€ê²½ ì‹œì—ë§Œ ì¬ë Œë”ë§, ë¶ˆí•„ìš”í•œ ì—…ë°ì´íŠ¸ ë°©ì§€
5. **ìŠ¤ë ˆë“œ ë¶„ë¦¬**: GUI ë©”ì¸ ë£¨í”„ì™€ ë´‡ ì‹¤í–‰ ë¡œì§ì„ ë³„ë„ ìŠ¤ë ˆë“œë¡œ ë¶„ë¦¬í•˜ì—¬ UI ë¸”ë¡œí‚¹ ë°©ì§€

### C. í™•ì¥ ê°€ëŠ¥ì„±

**ìƒˆë¡œìš´ ì§€í‘œ ì¶”ê°€ ë°©ë²•**:
1. `strategy.py`ì— `calculate_NEW_INDICATOR(df, params)` í•¨ìˆ˜ ì¶”ê°€
2. `analyze_market_data()`ì—ì„œ ìƒˆ ì§€í‘œ í˜¸ì¶œ ë° ê²°ê³¼ ì €ì¥
3. `generate_weighted_signals()`ì— ìƒˆ ì§€í‘œ ì‹ í˜¸ ë¡œì§ ì¶”ê°€
4. `config.py`ì˜ `signal_weights`ì— ìƒˆ ì§€í‘œ ê°€ì¤‘ì¹˜ ì¶”ê°€
5. `gui_app.py`ì— ìƒˆ ì§€í‘œ í‘œì‹œ UI ì¶”ê°€ (ì„ íƒ)
6. `chart_widget.py`ì— ìƒˆ ì§€í‘œ ì‹œê°í™” ì¶”ê°€ (ì„ íƒ)

**ìƒˆë¡œìš´ ê±°ë˜ì†Œ ì§€ì›**:
1. `{exchange}_api.py` íŒŒì¼ ìƒì„± (bithumb_api.py ì°¸ê³ )
2. ë™ì¼í•œ ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ (get_ticker, get_candlestick, place_order ë“±)
3. `config.py`ì— ê±°ë˜ì†Œ ì„ íƒ ì˜µì…˜ ì¶”ê°€
4. `trading_bot.py`ì—ì„œ ê±°ë˜ì†Œë³„ API ì„ íƒ ë¡œì§ ì¶”ê°€

---

**ë¬¸ì„œ ë²„ì „**: 3.0
**ì‘ì„±ì¼**: 2025ë…„ 10ì›” 2ì¼
**ì‘ì„±ì**: Claude (Anthropic)
**ê´€ë ¨ ë¬¸ì„œ**:
- [ì„¤ì • ê°€ì´ë“œ](./ì„¤ì •_ê°€ì´ë“œ.md)
- [íŠ¸ë ˆì´ë”© ì „ëµ ê°€ì´ë“œ](./íŠ¸ë ˆì´ë”©_ì „ëµ_ê°€ì´ë“œ.md)
- [GUI ì‚¬ìš©ì ê°€ì´ë“œ](./GUI_ì‚¬ìš©ì_ê°€ì´ë“œ.md)
