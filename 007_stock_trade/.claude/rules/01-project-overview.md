# 프로젝트 개요

## 시스템 아키텍처

```
┌─────────────────────────────────────────────────────────────┐
│                    퀀트 자동매매 시스템                        │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─────────────┐     ┌─────────────┐     ┌─────────────┐   │
│  │   Telegram  │────▶│   System    │────▶│    Quant    │   │
│  │     Bot     │     │ Controller  │     │   Engine    │   │
│  └─────────────┘     └─────────────┘     └─────────────┘   │
│         │                   │                   │           │
│         │                   ▼                   │           │
│         │           ┌─────────────┐             │           │
│         │           │    Auto     │             │           │
│         │           │   Manager   │             │           │
│         │           └─────────────┘             │           │
│         │                   │                   │           │
│         ▼                   ▼                   ▼           │
│  ┌───────────────────────────────────────────────────────┐ │
│  │                      KIS API                          │ │
│  │        (한국투자증권 Open API - REST/WebSocket)        │ │
│  └───────────────────────────────────────────────────────┘ │
│                             │                               │
│                             ▼                               │
│  ┌───────────────────────────────────────────────────────┐ │
│  │                     KOSPI200                          │ │
│  │              (200개 종목 유니버스)                      │ │
│  └───────────────────────────────────────────────────────┘ │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

## 핵심 컴포넌트

### 1. TelegramBot (원격 제어 인터페이스)
- 사용자 명령 수신
- 시스템 상태 전송
- 알림 발송

### 2. SystemController (중앙 제어기)
- 싱글톤 패턴
- 상태 관리 (STOPPED, RUNNING, PAUSED, EMERGENCY_STOP)
- 설정 관리
- 콜백 기반 엔진 연동

### 3. QuantEngine (자동매매 엔진)
- 스케줄 기반 실행
- 스크리닝 → 주문 → 모니터링

### 4. AutoManager (자동 관리)
- 월간 모니터링 (매월 1일)
- 반기 최적화 (1월, 7월)
- 가중치 자동 업데이트

## 데이터 저장소

| 파일 | 용도 |
|------|------|
| `config/optimal_weights.json` | 최적 팩터 가중치 |
| `config/system_config.json` | 시스템 설정 |
| `data/quant/system_state.json` | 시스템 상태 |
| `data/quant/positions.json` | 보유 포지션 |
| `logs/daemon_YYYYMMDD.log` | 일별 로그 |

## 실행 모드

1. **Dry-Run 모드** (기본값)
   - 실제 주문 없이 시뮬레이션
   - 모든 기능 테스트 가능

2. **모의투자 모드** (기본값)
   - KIS 모의투자 계좌 사용
   - 실제 자금 위험 없음

3. **실전투자 모드** (주의!)
   - 실제 주문 실행
   - `--real --no-dry-run` 옵션 필요
